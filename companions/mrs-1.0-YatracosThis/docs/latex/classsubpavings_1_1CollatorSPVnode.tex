\hypertarget{classsubpavings_1_1CollatorSPVnode}{\subsection{subpavings\-:\-:\-Collator\-S\-P\-Vnode \-Class \-Reference}
\label{classsubpavings_1_1CollatorSPVnode}\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
}


\-A derived class based on \hyperlink{classsubpavings_1_1SPnode}{\-S\-Pnode} for creating summaries.  




{\ttfamily \#include $<$collatorspvnode.\-hpp$>$}



\-Inheritance diagram for subpavings\-:\-:\-Collator\-S\-P\-Vnode\-:


\-Collaboration diagram for subpavings\-:\-:\-Collator\-S\-P\-Vnode\-:
\subsubsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classsubpavings_1_1CollatorSPVnode_afc907faf6fc53e9fdea4c6895e14a42c}{\-Collator\-S\-P\-Vnode} ()
\begin{DoxyCompactList}\small\item\em default constructor. \end{DoxyCompactList}\item 
\hyperlink{classsubpavings_1_1CollatorSPVnode_a238d7e9e52b2014b97d10903f54df691}{\-Collator\-S\-P\-Vnode} (const \hyperlink{classsubpavings_1_1SPSVnode}{\-S\-P\-S\-Vnode} $\ast$const spn, int what\-Sum)
\begin{DoxyCompactList}\small\item\em \-Initalised constructor. \end{DoxyCompactList}\item 
\hyperlink{classsubpavings_1_1CollatorSPVnode_afefc26f6a3e9ba25ccf69d47dbdf99d7}{\-Collator\-S\-P\-Vnode} (ivector \&v, int lab, \hyperlink{namespacesubpavings_a6b4d2e61b2f0b65cacc9c9322d89bc37}{\-Vec\-Dbl} summ, double \-Vsumm)
\begin{DoxyCompactList}\small\item\em \-Initialised constructor. \end{DoxyCompactList}\item 
\hyperlink{classsubpavings_1_1CollatorSPVnode_aeaf38d226e1bacab0a109a3525f73cc0}{\-Collator\-S\-P\-Vnode} (const \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} \&other)
\begin{DoxyCompactList}\small\item\em \-Copy constructor. \end{DoxyCompactList}\item 
\hyperlink{classsubpavings_1_1CollatorSPVnode_ab7123fe7fb187c082d968a8d3be9944d}{\-Collator\-S\-P\-Vnode} (const \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} \&other, int to\-Subtract)
\begin{DoxyCompactList}\small\item\em \-Copy constructor for the subtracted \-A\-D\-H\-V\-C. \end{DoxyCompactList}\item 
\hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} \& \hyperlink{classsubpavings_1_1CollatorSPVnode_a36bedf0d99a2a3e1a0188c24b68c2e18}{operator=} (const \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} \&rhs)
\begin{DoxyCompactList}\small\item\em \-Copy assignment operator. \end{DoxyCompactList}\item 
\hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$ \hyperlink{classsubpavings_1_1CollatorSPVnode_ad0d2a5d445ac27dd3bf81a6f55c4087f}{make\-Average\-Collation} () const 
\item 
\hyperlink{namespacesubpavings_a6b4d2e61b2f0b65cacc9c9322d89bc37}{\-Vec\-Dbl} \hyperlink{classsubpavings_1_1CollatorSPVnode_ad7fa37be86eb1d964b384a090dc3552f}{get\-Summary} () const 
\begin{DoxyCompactList}\small\item\em \-Accessor for the summary. \end{DoxyCompactList}\item 
double \hyperlink{classsubpavings_1_1CollatorSPVnode_ac3cc6fb2f09dc7d6d99b52631fc4f60e}{get\-Vemp} () const 
\begin{DoxyCompactList}\small\item\em \-Accessor for the validation summary. \end{DoxyCompactList}\item 
size\-\_\-t \hyperlink{classsubpavings_1_1CollatorSPVnode_a72f2564ee548571ef026a8548ca0b0ba}{get\-Number\-Summarised} () const 
\begin{DoxyCompactList}\small\item\em \-Get number of subpavings summarised. \end{DoxyCompactList}\item 
double \hyperlink{classsubpavings_1_1CollatorSPVnode_ae996eeb1103aa689f6f64d3db742ce2f}{leaves\-Abs\-Accumulation\-Mult\-Vol} () const 
\begin{DoxyCompactList}\small\item\em sum over leaf nodes of absolute accumulated summary x volume. \end{DoxyCompactList}\item 
virtual std\-::ostream \& \hyperlink{classsubpavings_1_1CollatorSPVnode_a782737eae50163bbae2dc9c4b5e23aec}{node\-Print} (std\-::ostream \&os) const 
\begin{DoxyCompactList}\small\item\em \-Output the details of a specific node. \end{DoxyCompactList}\item 
virtual std\-::ostream \& \hyperlink{classsubpavings_1_1CollatorSPVnode_a60e3798526abbe3db915b8a9a9d0aa19}{leaf\-Output\-Tabs} (std\-::ostream \&os) const 
\begin{DoxyCompactList}\small\item\em \-Output for a node in a binary tree, tab-\/delimited. \end{DoxyCompactList}\item 
virtual std\-::ostream \& \hyperlink{classsubpavings_1_1CollatorSPVnode_a994d9779baf89f37351656d4d615d340}{leaf\-Output\-Tabs} (std\-::ostream \&os, int which\-Coll) const 
\item 
virtual std\-::ostream \& \hyperlink{classsubpavings_1_1CollatorSPVnode_a214a7d5e78c28dbad8da0753eebe31f4}{leaves\-Output\-Tabs} (std\-::ostream \&os) const 
\begin{DoxyCompactList}\small\item\em \-Output for for {\bfseries all leaves} of a binary tree. \end{DoxyCompactList}\item 
virtual std\-::ostream \& \hyperlink{classsubpavings_1_1CollatorSPVnode_af432d9c3c95ad16f40274a0ab35948b8}{leaves\-Output\-Tabs} (std\-::ostream \&os, int which\-Coll) const 
\item 
std\-::ostream \& \hyperlink{classsubpavings_1_1CollatorSPVnode_ad2fe162c253c15b43027ccd44ce9136b}{leaves\-Average\-Output\-Tabs} (std\-::ostream \&os) const 
\begin{DoxyCompactList}\small\item\em \-Output for for {\bfseries all leaves} of a binary tree. \end{DoxyCompactList}\item 
std\-::ostream \& \hyperlink{classsubpavings_1_1CollatorSPVnode_a74c11c958cf56fbfff724d464c02f03a}{leaves\-Accumulation\-Output\-Tabs} (std\-::ostream \&os) const 
\begin{DoxyCompactList}\small\item\em \-Output for for {\bfseries all leaves} of a binary tree. \end{DoxyCompactList}\item 
std\-::ostream \& \hyperlink{classsubpavings_1_1CollatorSPVnode_a63529191a0b2eb1bc253c5c717fc2965}{leaves\-Difference\-Output\-Tabs} (std\-::ostream \&os) const 
\item 
virtual void \hyperlink{classsubpavings_1_1CollatorSPVnode_ae6555e847a720e43c07ad0c56788f9b6}{node\-Expand} (int comp)
\begin{DoxyCompactList}\small\item\em \-Expand leaf node to make two more leaves as children and copy summary and \-Vemp down to the children. \end{DoxyCompactList}\item 
virtual void \hyperlink{classsubpavings_1_1CollatorSPVnode_a43e370d7120f8cc8c1cde489f61e7fc5}{node\-Expand} ()
\begin{DoxyCompactList}\small\item\em \-Expand leaf node to make two more leaves as children and copy summary and \-Vemp down to the children. \end{DoxyCompactList}\item 
virtual void \hyperlink{classsubpavings_1_1CollatorSPVnode_abef4fa1adf9483d78e21350712864fd2}{nodes\-Reunite} ()
\begin{DoxyCompactList}\small\item\em \-Try to reunite nodes to form one leaf. \end{DoxyCompactList}\item 
virtual void \hyperlink{classsubpavings_1_1CollatorSPVnode_a7a6318a53eb8efeecc8ea81244c98859}{node\-Adopt\-Left} (\hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$l\-Child)
\begin{DoxyCompactList}\small\item\em \-Builds a higher level of a tree from existing nodes. \-This adopts a left child rather than attempting to reunite two children into this. \end{DoxyCompactList}\item 
virtual void \hyperlink{classsubpavings_1_1CollatorSPVnode_a47cfd580379397fa0f713de7306a65c3}{node\-Adopt\-Right} (\hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$r\-Child)
\begin{DoxyCompactList}\small\item\em \-Builds a higher level of a tree from existing nodes. \end{DoxyCompactList}\item 
bool \hyperlink{classsubpavings_1_1CollatorSPVnode_af01fff5efb1889862b36606bed10746a}{add\-Paving\-With\-Val} (\hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$const spn)
\begin{DoxyCompactList}\small\item\em \-Add paving with \-Vemp to collation. \end{DoxyCompactList}\item 
void \hyperlink{classsubpavings_1_1CollatorSPVnode_a0c7ea11fa66829ec974813779c052c61}{node\-Negate} (double c)
\begin{DoxyCompactList}\small\item\em \-Negates the summary for every node in tree rooted at this. \end{DoxyCompactList}\item 
void \hyperlink{classsubpavings_1_1CollatorSPVnode_a2976605178012f7d9b23bca1d7f9beb4}{add\-Negated\-Paving} (const \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$const spn, double c)
\begin{DoxyCompactList}\small\item\em \-Incorporate negation of a \-Collator subpaving to this summmary. \end{DoxyCompactList}\item 
bool \hyperlink{classsubpavings_1_1CollatorSPVnode_ae3670805f36e313e7e541d57552d6b34}{get\-Split\-Node\-Ptr\-C\-S\-P\-V} (\hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$\&split\-Coll\-Node, \hyperlink{classsubpavings_1_1SPSVnode}{\-S\-P\-S\-Vnode} $\ast$const spn)
\begin{DoxyCompactList}\small\item\em \-Get a \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} pointer to the corresponding \hyperlink{classsubpavings_1_1SPSVnode}{\-S\-P\-S\-Vnode} that was split. \end{DoxyCompactList}\item 
bool \hyperlink{classsubpavings_1_1CollatorSPVnode_ab134b9b98ed7b15b1cabb9eca1ced1eb}{get\-Scheffe\-Node} (int theta1, int theta2)
\begin{DoxyCompactList}\small\item\em \-Find the node that fulfills the \-Scheffe set, f\-\_\-theta1 $>$ f\-\_\-theta2 for candidates f\-\_\-theta1 and f\-\_\-theta2, where theta1 $<$ theta2. \end{DoxyCompactList}\item 
bool \hyperlink{classsubpavings_1_1CollatorSPVnode_a199762d07823cde9934100fb6d11228c}{node\-Check\-Row\-Summary} (int theta, int k)
\begin{DoxyCompactList}\small\item\em \-Find the node that fulfills the \-Yatracos condition by comparing the rows of the growing \-Yatracos matrix against the columns. \end{DoxyCompactList}\item 
bool \hyperlink{classsubpavings_1_1CollatorSPVnode_a61360380c921f78c1ac9689ffe004c60}{node\-Check\-Col\-Summary} (int theta, int k)
\begin{DoxyCompactList}\small\item\em \-Find the node that fulfills the \-Yatracos condition by comparing the columns of the growing \-Yatracos matrix against the rows. \end{DoxyCompactList}\item 
double \hyperlink{classsubpavings_1_1CollatorSPVnode_a1ebdb63b747d9c7a477b6ad86d58b714}{get\-Node\-Delta} (int this\-Theta)
\begin{DoxyCompactList}\small\item\em \-Get the delta value for a specific theta. \end{DoxyCompactList}\item 
void \hyperlink{classsubpavings_1_1CollatorSPVnode_ad0bdf61f72d586c8944c076e310b3240}{get\-Yat\-Set} (std\-::set$<$ \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$, std\-::less$<$ \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$ $>$ $>$ \&\-Yat\-Set\-Row, std\-::set$<$ \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$, std\-::less$<$ \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$ $>$ $>$ \&\-Yat\-Set\-Col, size\-\_\-t cand1, size\-\_\-t cand2)
\begin{DoxyCompactList}\small\item\em \-Get the \-Yatracos set for a particular pair. \end{DoxyCompactList}\item 
void \hyperlink{classsubpavings_1_1CollatorSPVnode_a8d430b2bdfb2d8032e5d7f9e9bddb53d}{get\-Scheffe\-Set} (std\-::set$<$ \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$, std\-::less$<$ \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$ $>$ $>$ \&\-Scheffe\-Set, size\-\_\-t cand1, size\-\_\-t cand2)
\begin{DoxyCompactList}\small\item\em \-Get the \-Scheffe set for a particular pair. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{Indent}{\bf \-Accessors for links between the nodes.}\par
{\em \-These accessor methods shadow equivalent methods in the base class. \-Thus the method used is determined at compile time, not run time as would be the case if virtual methods were used. \-Because the pointers to parents and children are part of the base class definition, the methods have to cast the base class from to the derived class form in order for the pointer returned to be able to be used with derived class members.

\-Note that pointers for parent, left\-Child, and right\-Child are not reference counted so there could potentially be problems with the use of returned pointers (for instance, being used to delete nodes). \-These pointers might be better implemented with boost\-::shared\-\_\-ptr . }\begin{DoxyCompactItemize}
\item 
\hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$ \hyperlink{classsubpavings_1_1CollatorSPVnode_a635b2b0884e6d8fc328e058bd3fadbcc}{get\-Parent} () const 
\begin{DoxyCompactList}\small\item\em \-Accessor for the parent of a node. \end{DoxyCompactList}\item 
\hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$ \hyperlink{classsubpavings_1_1CollatorSPVnode_aeaea28b3b2d7ca59a28cd3fbb3438cce}{get\-Left\-Child} () const 
\begin{DoxyCompactList}\small\item\em \-Accessor for the left child of a node. \end{DoxyCompactList}\item 
\hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$ \hyperlink{classsubpavings_1_1CollatorSPVnode_aaaa6264c4020a5e0ccfdedb19228fa2b}{get\-Right\-Child} () const 
\begin{DoxyCompactList}\small\item\em \-Accessor for the right child of a node. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\subsubsection*{\-Static \-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$ \hyperlink{classsubpavings_1_1CollatorSPVnode_af92d7a31e4c7f97661d3e812948a8aee}{add\-Pavings} (const \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$const lhs, const \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$const rhs)
\begin{DoxyCompactList}\small\item\em \-Add two collator subpavings together. \end{DoxyCompactList}\item 
static \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$ \hyperlink{classsubpavings_1_1CollatorSPVnode_ab662ab5025178c145b83b386ef475415}{subtract\-Pavings} (const \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$const lhs, const \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$const rhs, double c)
\begin{DoxyCompactList}\small\item\em \-Subtract one collator subpavings from another together. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{\-Private \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classsubpavings_1_1CollatorSPVnode_a9f0d632933ae94b99777c01fa8d1677e}{\-Collator\-S\-P\-Vnode} (const \hyperlink{classsubpavings_1_1SPSVnode}{\-S\-P\-S\-Vnode} $\ast$const spn, size\-\_\-t big\-N, size\-\_\-t big\-M, int what\-Sum)
\item 
std\-::ostream \& \hyperlink{classsubpavings_1_1CollatorSPVnode_aac50041302262e7503e68cbd9103aa0b}{leaf\-Average\-Output\-Tabs} (std\-::ostream \&os) const 
\begin{DoxyCompactList}\small\item\em \-Output for a node in a binary tree, tab-\/delimited. \end{DoxyCompactList}\item 
std\-::ostream \& \hyperlink{classsubpavings_1_1CollatorSPVnode_a158da654dc12bf34a61950df57d2d742}{leaf\-Accumulation\-Output\-Tabs} (std\-::ostream \&os) const 
\begin{DoxyCompactList}\small\item\em \-Output for a node in a binary tree, tab-\/delimited. \end{DoxyCompactList}\item 
std\-::ostream \& \hyperlink{classsubpavings_1_1CollatorSPVnode_a20f7af5ed80d8860009cfd39f1dafc03}{leaf\-Difference\-Output\-Tabs} (std\-::ostream \&os) const 
\item 
double \hyperlink{classsubpavings_1_1CollatorSPVnode_a5fb3b27a05bb36fc409ed1ffe17cab9f}{node\-Accumulation} () const 
\item 
double \hyperlink{classsubpavings_1_1CollatorSPVnode_a8493e447407309758e72abcd2a6faf6a}{node\-Difference} () const 
\item 
std\-::vector$<$ \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$ $>$ \& \hyperlink{classsubpavings_1_1CollatorSPVnode_aab5d343b96bf5be2ef7ebfaa4ead0319}{get\-Leaves} (std\-::vector$<$ \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$ $>$ \&leaves) const 
\item 
std\-::vector$<$ \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$ $>$ \& \hyperlink{classsubpavings_1_1CollatorSPVnode_a49322e88d40a59c02bb6c3eb5841584a}{get\-All\-Nodes} (std\-::vector$<$ \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} $\ast$ $>$ \&all\-Nodes) const 
\item 
double \hyperlink{classsubpavings_1_1CollatorSPVnode_acf8c07b59699383cc9983aefb8c8945d}{node\-Abs\-Accumulation} () const 
\item 
double \hyperlink{classsubpavings_1_1CollatorSPVnode_a0c350ae6fe0fc1719ec294f5828c64a6}{node\-Accumulation\-Mult\-Vol} () const 
\item 
double \hyperlink{classsubpavings_1_1CollatorSPVnode_ac89894e566fc5b4f86b2b9d749db10a1}{node\-Abs\-Accumulation\-Mult\-Vol} () const 
\end{DoxyCompactItemize}
\subsubsection*{\-Private \-Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespacesubpavings_a6b4d2e61b2f0b65cacc9c9322d89bc37}{\-Vec\-Dbl} \hyperlink{classsubpavings_1_1CollatorSPVnode_ad85d48d6c14888cc7d375f74b63c2f92}{summary}
\begin{DoxyCompactList}\small\item\em \-A container of summary values from the collated subpavings. \end{DoxyCompactList}\item 
double \hyperlink{classsubpavings_1_1CollatorSPVnode_a31cd9926485cf1190effb77a9ce8dac4}{\-Vemp}
\begin{DoxyCompactList}\small\item\em \-Empirical measure for the validation data from the collated subpavings. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{\-Detailed \-Description}
\-A derived class based on \hyperlink{classsubpavings_1_1SPnode}{\-S\-Pnode} for creating summaries. 

\-Creates summaries and empirical measures from other nodes from the \hyperlink{classsubpavings_1_1SPnode}{\-S\-Pnode} family.

\-The base class \hyperlink{classsubpavings_1_1SPnode}{\-S\-Pnode} is a node in the representation of a regular subpaving as a binary tree. \-A node represents a box (interval vector). \-S\-Pnodes are linked together to form the tree. \-The initial box of the subpaving is the box represented by the root node of the tree. \-A box which has been split will be represented as node with one or two children. \-A subpaving of \mbox{[}{\bfseries x}\mbox{]} (union of non-\/overlapping sub-\/ boxes of \mbox{[}{\bfseries x}\mbox{]}) is represented by the leaves (degenerate/ child-\/less) nodes in the tree.

\-The \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} class collates data from a collection of \-S\-Pnodes or objects from classes derived from \hyperlink{classsubpavings_1_1SPnode}{\-S\-Pnode}.

\-An entire tree structure represents a union over each tree collated, ie the boxes of the leaves of the collated tree make a subpaving that is the union of the subpavings represented by each tree collated.

\-Each node has a container structure (the summary) holding one value for each corresponding collated, and also the empirical measure of the data contained inside the node. 

\-Definition at line 68 of file collatorspvnode.\-hpp.



\subsubsection{\-Constructor \& \-Destructor \-Documentation}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a9f0d632933ae94b99777c01fa8d1677e}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!\-Collator\-S\-P\-Vnode@{\-Collator\-S\-P\-Vnode}}
\index{\-Collator\-S\-P\-Vnode@{\-Collator\-S\-P\-Vnode}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{\-Collator\-S\-P\-Vnode}]{\setlength{\rightskip}{0pt plus 5cm}{\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::\-Collator\-S\-P\-Vnode} (
\begin{DoxyParamCaption}
\item[{const {\bf \-S\-P\-S\-Vnode} $\ast$const}]{spn, }
\item[{size\-\_\-t}]{big\-N, }
\item[{size\-\_\-t}]{big\-M, }
\item[{int}]{what\-Sum}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_a9f0d632933ae94b99777c01fa8d1677e}
\-Private initialised constructor what\-Sum indicats what type of summary is to be tracked 1\-: histogram density estimate 2\-: counts only 

\-Definition at line 57 of file collatorspvnode.\-cpp.



\-References \-Collator\-S\-P\-Vnode(), subpavings\-::\-S\-Pnode\-::get\-Box(), subpavings\-::\-S\-P\-Snode\-::get\-Counter(), subpavings\-::\-S\-Pnode\-::get\-Dimension(), subpavings\-::\-S\-Pnode\-::get\-Label(), subpavings\-::\-S\-P\-S\-Vnode\-::get\-Left\-Child(), subpavings\-::\-S\-Pnode\-::get\-Node\-Name(), subpavings\-::\-S\-P\-S\-Vnode\-::get\-Right\-Child(), subpavings\-::\-S\-P\-S\-Vnode\-::get\-Vcounter(), subpavings\-::\-S\-Pnode\-::has\-L\-Cwith\-Box(), subpavings\-::\-S\-Pnode\-::has\-R\-Cwith\-Box(), and subpavings\-::\-S\-Pnode\-::node\-Volume().



\-Referenced by \-Collator\-S\-P\-Vnode().


\begin{DoxyCode}
    {
        try {
         //cout << "private initialised constructor with validation summ" <<
       endl;
            theBox = new ivector(spn->getBox());
            dimension = spn->getDimension();
            label = spn->getLabel();
            nodeName = spn->getNodeName();
       //     cout << nodeName << endl;

            if (whatSum==1){
            // add the summary to the vector summary
        // cout << "counter from private constructor: " << (spn->getCounter())
       << "\t";
        // cout << "bigN: "<< bigN << "\t";
        // cout << "spn->nodeVolume(): " << spn->nodeVolume() << endl;
        // cout << "height " << spn->getCounter()/(1.0*bigN*spn->nodeVolume())
       << endl;
           summary.push_back(spn->getCounter()/(1.0*bigN*spn->nodeVolume()));
            // for validation data, add the summary to the vector summary
        // cout << "Vemp from private constructor: " << 
          //         (spn->getVcounter())/(1.0 * bigM)<< endl;
        Vemp = ((spn->getVcounter())/(1.0 * bigM));        

        }
        
        else if (whatSum==2) {
          summary.push_back(spn->getCounter());
          Vemp = 0;
        }        

            //recursion on the children
            if (spn->hasLCwithBox()) {
                nodeAddLeft(new CollatorSPVnode(spn->getLeftChild(), bigN, 
                            bigM, whatSum));
            }
            else leftChild=NULL;

            if (spn->hasRCwithBox()) {
                nodeAddRight(new CollatorSPVnode(spn->getRightChild(), bigN, 
                             bigM, whatSum));
            }
            else rightChild=NULL;
        }
        catch (bad_alloc& ba) {
            std::cout << "Error allocating memory" << endl;
            const char* msg = ba.what();
            std::cout << msg << std::endl;
            throw;
        }
     }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_afc907faf6fc53e9fdea4c6895e14a42c}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!\-Collator\-S\-P\-Vnode@{\-Collator\-S\-P\-Vnode}}
\index{\-Collator\-S\-P\-Vnode@{\-Collator\-S\-P\-Vnode}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{\-Collator\-S\-P\-Vnode}]{\setlength{\rightskip}{0pt plus 5cm}{\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::\-Collator\-S\-P\-Vnode} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}explicit\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_afc907faf6fc53e9fdea4c6895e14a42c}


default constructor. 



\-Definition at line 259 of file collatorspvnode.\-cpp.



\-Referenced by add\-Negated\-Paving(), add\-Pavings(), add\-Paving\-With\-Val(), \-Collator\-S\-P\-Vnode(), make\-Average\-Collation(), node\-Expand(), operator=(), and subtract\-Pavings().


\begin{DoxyCode}
{}
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a238d7e9e52b2014b97d10903f54df691}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!\-Collator\-S\-P\-Vnode@{\-Collator\-S\-P\-Vnode}}
\index{\-Collator\-S\-P\-Vnode@{\-Collator\-S\-P\-Vnode}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{\-Collator\-S\-P\-Vnode}]{\setlength{\rightskip}{0pt plus 5cm}{\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::\-Collator\-S\-P\-Vnode} (
\begin{DoxyParamCaption}
\item[{const {\bf \-S\-P\-S\-Vnode} $\ast$const}]{spn, }
\item[{int}]{what\-Sum}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}explicit\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_a238d7e9e52b2014b97d10903f54df691}


\-Initalised constructor. 

\-Initialised with a pointer to an \hyperlink{classsubpavings_1_1SPSVnode}{\-S\-P\-S\-Vnode}. \-The \-Collator\-S\-P\-S\-Vnode summary information is the k/vol of the \hyperlink{classsubpavings_1_1SPSVnode}{\-S\-P\-S\-Vnode}, ie effectively the height of a histogram bin formed by the box associated with that node. \-The empirical measure is k/m of the \hyperlink{classsubpavings_1_1SPSVnode}{\-S\-P\-S\-Vnode}, where m is the total number of validation points. 

\-Definition at line 263 of file collatorspvnode.\-cpp.



\-References subpavings\-::\-S\-Pnode\-::get\-Box(), subpavings\-::\-S\-P\-Snode\-::get\-Counter(), subpavings\-::\-S\-Pnode\-::get\-Dimension(), subpavings\-::\-S\-Pnode\-::get\-Label(), subpavings\-::\-S\-P\-S\-Vnode\-::get\-Left\-Child(), subpavings\-::\-S\-Pnode\-::get\-Node\-Name(), subpavings\-::\-S\-P\-S\-Vnode\-::get\-Right\-Child(), subpavings\-::\-S\-P\-S\-Vnode\-::get\-Root\-Counter(), subpavings\-::\-S\-P\-S\-Vnode\-::get\-Root\-Vcounter(), subpavings\-::\-S\-P\-S\-Vnode\-::get\-Vcounter(), subpavings\-::\-S\-Pnode\-::has\-L\-Cwith\-Box(), subpavings\-::\-S\-Pnode\-::has\-R\-Cwith\-Box(), and subpavings\-::\-S\-Pnode\-::node\-Volume().


\begin{DoxyCode}
    {
        try {
         //   cout << "default constructor for validation data" << endl;
            theBox = new ivector(spn->getBox());
            dimension = spn->getDimension();
            label = spn->getLabel();
            nodeName = spn->getNodeName();
            size_t rootCounter = spn->getRootCounter();
        size_t rootVCounter = spn->getRootVcounter(); //get the total number
                                                      // of validation data
        
        if (whatSum==1) {
          // get the empirical measure of the validation data in this node 
          Vemp = (spn->getVcounter()/(1.0*rootVCounter)); 
          // add the normalised count/volume to the vector summary          
          summary.push_back(spn->getCounter()/
                                (1.0*rootCounter * spn->nodeVolume()));       
        }
        else if (whatSum==2) {
          summary.push_back(spn->getCounter());
          Vemp = 0;
        }
        
            //recursion on the children using constructor which normalises 
        // counts
            if (spn->hasLCwithBox()) {
                nodeAddLeft(new CollatorSPVnode(spn->getLeftChild(),
                                               rootCounter, rootVCounter, 
                                               whatSum));
            }
            else leftChild=NULL;

            if (spn->hasRCwithBox()) {
                nodeAddRight(new CollatorSPVnode(spn->getRightChild(),
                                                rootCounter, rootVCounter,
                                                whatSum));
            }
            else rightChild=NULL;
        }
        catch (bad_alloc& ba) {
            std::cout << "Error allocating memory" << endl;
            const char* msg = ba.what();
            std::cout << msg << std::endl;
            throw;
        }

    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_afefc26f6a3e9ba25ccf69d47dbdf99d7}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!\-Collator\-S\-P\-Vnode@{\-Collator\-S\-P\-Vnode}}
\index{\-Collator\-S\-P\-Vnode@{\-Collator\-S\-P\-Vnode}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{\-Collator\-S\-P\-Vnode}]{\setlength{\rightskip}{0pt plus 5cm}{\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::\-Collator\-S\-P\-Vnode} (
\begin{DoxyParamCaption}
\item[{ivector \&}]{v, }
\item[{int}]{lab, }
\item[{{\bf \-Vec\-Dbl}}]{summ, }
\item[{double}]{\-Vsumm}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}explicit\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_afefc26f6a3e9ba25ccf69d47dbdf99d7}


\-Initialised constructor. 

\-Initialised with a box, a label, a vector summary, and an empirical measure. 

\-Definition at line 314 of file collatorspvnode.\-cpp.



\-References summary, and \-Vemp.


\begin{DoxyCode}
                                        : SPnode(v, lab)
     {
         try {
           //   cout << "initialized constructor with box, label, summary,
       vsumm" << endl;
             // copy the vector summary
             summary = summ;
         // copy the empirical measure
             Vemp = Vempp;
         }
         catch (bad_alloc& ba) {
             std::cout << "Error allocating memory" << endl;
             const char* msg = ba.what();
             std::cout << msg << std::endl;
             throw;
         }
     }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_aeaf38d226e1bacab0a109a3525f73cc0}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!\-Collator\-S\-P\-Vnode@{\-Collator\-S\-P\-Vnode}}
\index{\-Collator\-S\-P\-Vnode@{\-Collator\-S\-P\-Vnode}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{\-Collator\-S\-P\-Vnode}]{\setlength{\rightskip}{0pt plus 5cm}{\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::\-Collator\-S\-P\-Vnode} (
\begin{DoxyParamCaption}
\item[{const {\bf \-Collator\-S\-P\-Vnode} \&}]{other}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}explicit\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_aeaf38d226e1bacab0a109a3525f73cc0}


\-Copy constructor. 



\-Definition at line 334 of file collatorspvnode.\-cpp.



\-References \-Collator\-S\-P\-Vnode(), get\-Left\-Child(), get\-Right\-Child(), subpavings\-::\-S\-Pnode\-::left\-Child, subpavings\-::\-S\-Pnode\-::node\-Add\-Left(), subpavings\-::\-S\-Pnode\-::node\-Add\-Right(), subpavings\-::\-S\-Pnode\-::node\-Name, subpavings\-::\-S\-Pnode\-::right\-Child, summary, and \-Vemp.


\begin{DoxyCode}
         : SPnode(*(other.theBox), other.label)
     {
        try {
             summary = other.summary;
             nodeName = other.nodeName;
             Vemp = other.Vemp;
 
            //recursion on the children
             if (other.leftChild) {
                nodeAddLeft(new CollatorSPVnode(
                     *(other.getLeftChild())));
           }
             else leftChild=NULL;

           if (other.rightChild) {
                 nodeAddRight(new CollatorSPVnode(
                     *(other.getRightChild())));
            }
             else rightChild=NULL;
         }
         catch (bad_alloc& ba) {
             std::cout << "Error allocating memory" << endl;
             const char* msg = ba.what();
             std::cout << msg << std::endl;
             throw;
        }
 
     }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_ab7123fe7fb187c082d968a8d3be9944d}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!\-Collator\-S\-P\-Vnode@{\-Collator\-S\-P\-Vnode}}
\index{\-Collator\-S\-P\-Vnode@{\-Collator\-S\-P\-Vnode}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{\-Collator\-S\-P\-Vnode}]{\setlength{\rightskip}{0pt plus 5cm}{\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::\-Collator\-S\-P\-Vnode} (
\begin{DoxyParamCaption}
\item[{const {\bf \-Collator\-S\-P\-Vnode} \&}]{other, }
\item[{int}]{to\-Subtract}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}explicit\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_ab7123fe7fb187c082d968a8d3be9944d}


\-Copy constructor for the subtracted \-A\-D\-H\-V\-C. 



\-Definition at line 366 of file collatorspvnode.\-cpp.



\-References \-Collator\-S\-P\-Vnode(), get\-Left\-Child(), get\-Right\-Child(), subpavings\-::\-S\-Pnode\-::left\-Child, node\-Accumulation(), subpavings\-::\-S\-Pnode\-::node\-Add\-Left(), subpavings\-::\-S\-Pnode\-::node\-Add\-Right(), subpavings\-::\-S\-Pnode\-::node\-Name, subpavings\-::\-S\-Pnode\-::right\-Child, summary, and \-Vemp.


\begin{DoxyCode}
         : SPnode(*(other.theBox), other.label)
     {
        try {
         
         summary.push_back(other.nodeAccumulation()); 
         nodeName = other.nodeName;
         Vemp = other.Vemp;
 
            //recursion on the children
             if (other.leftChild) {
                nodeAddLeft(new CollatorSPVnode(
                     *(other.getLeftChild()), toSubtract));
           }
             else leftChild=NULL;

           if (other.rightChild) {
                 nodeAddRight(new CollatorSPVnode(
                     *(other.getRightChild()), toSubtract));
            }
             else rightChild=NULL;
         }
         catch (bad_alloc& ba) {
             std::cout << "Error allocating memory" << endl;
             const char* msg = ba.what();
             std::cout << msg << std::endl;
             throw;
        }
 
     }
\end{DoxyCode}


\subsubsection{\-Member \-Function \-Documentation}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a2976605178012f7d9b23bca1d7f9beb4}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!add\-Negated\-Paving@{add\-Negated\-Paving}}
\index{add\-Negated\-Paving@{add\-Negated\-Paving}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{add\-Negated\-Paving}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::add\-Negated\-Paving} (
\begin{DoxyParamCaption}
\item[{const {\bf \-Collator\-S\-P\-Vnode} $\ast$const}]{spn, }
\item[{double}]{c}
\end{DoxyParamCaption}
)}}\label{classsubpavings_1_1CollatorSPVnode_a2976605178012f7d9b23bca1d7f9beb4}


\-Incorporate negation of a \-Collator subpaving to this summmary. 

\-Adjusts the tree rooted at this node for the tree being added. \-The tree rooted at this node will expand if necessary to have at least all the leaves of the tree of the tree being added. \-The summary for this node will increase to include the negation of the summary of the node being added.


\begin{DoxyParams}{\-Parameters}
{\em spn} & pointer to the \-Collator subpaving to be incorporated into the summary. \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{\-Note}
that the contents of the \-Collator subpaving added will be altered\-: it is assumed that the \-Collator subpaving to be added is a temporary object made and passed in with a wrapper class 
\end{DoxyNote}


\-Definition at line 1323 of file collatorspvnode.\-cpp.



\-References add\-Paving\-With\-Val(), \-Collator\-S\-P\-Vnode(), and node\-Negate().



\-Referenced by subtract\-Pavings().


\begin{DoxyCode}
    {
        SPSnode* temp = NULL;

        try {
            CollatorSPVnode* temp = new CollatorSPVnode (*spn);

            // negate the node passed in
            temp->nodeNegate(c);

            addPavingWithVal(temp);

            delete temp;
        }
        catch (bad_alloc& ba) {
            std::cerr << "Error allocating memory in addNegatedPaving" << endl;
            const char* msg = ba.what();
            std::cerr << msg << std::endl;
            throw;
        }
    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_af92d7a31e4c7f97661d3e812948a8aee}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!add\-Pavings@{add\-Pavings}}
\index{add\-Pavings@{add\-Pavings}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{add\-Pavings}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Collator\-S\-P\-Vnode} $\ast$ {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::add\-Pavings} (
\begin{DoxyParamCaption}
\item[{const {\bf \-Collator\-S\-P\-Vnode} $\ast$const}]{lhs, }
\item[{const {\bf \-Collator\-S\-P\-Vnode} $\ast$const}]{rhs}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_af92d7a31e4c7f97661d3e812948a8aee}


\-Add two collator subpavings together. 

\-Collator returned has summary with contents of both operands' summaries.


\begin{DoxyParams}{\-Parameters}
{\em lhs} & pointer to the root of one collator to be added. \\
\hline
{\em lhs} & pointer to the root of the other collator to be added. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
a pointer to the root of a new collator subpaving where the summmary is the combined summary of the operands (lhs first, then rhs). 
\end{DoxyReturn}


\-Definition at line 1181 of file collatorspvnode.\-cpp.



\-References add\-Paving\-With\-Val(), \-Collator\-S\-P\-Vnode(), and subpavings\-::\-S\-Pnode\-::get\-Box().


\begin{DoxyCode}
    {
        CollatorSPVnode* newCollator = NULL;
        CollatorSPVnode* temp = NULL;
        bool done = false;
        try {
            if (lhs == NULL && rhs == NULL) done = true; // return null

            // if exactly one is null we can return a copy of the non-null one
            if (!done && lhs == NULL && rhs != NULL) {
                newCollator = new CollatorSPVnode(*rhs);
                done = true;
            }
            if (!done && lhs != NULL && rhs == NULL) {
                newCollator = new CollatorSPVnode(*lhs);
                done = true;
            }
            // both not null
            if (!done && lhs != NULL && rhs != NULL) {
                if ((lhs->getBox() != NULL) &&
                                (lhs->getBox() != rhs->getBox())) {
                    throw SPnodeException("Boxes do not match");
                }
                newCollator = new CollatorSPVnode(*lhs);
                temp = new CollatorSPVnode(*rhs);
                newCollator->addPavingWithVal(temp);
                delete temp;
                temp = NULL;
            }
        }
        catch (bad_alloc& ba) {
            if (newCollator != NULL) {
                delete newCollator;
                newCollator = NULL;
            }
            if (temp != NULL) {
                delete temp;
                temp = NULL;
            }
            std::cerr << "Error allocating memory in addPavings" << endl;
            const char* msg = ba.what();
            std::cerr << msg << std::endl;
            throw;
        }
        catch (exception& e) {
            if (newCollator != NULL) {
                delete newCollator;
                newCollator = NULL;
            }
            if (temp != NULL) {
                delete temp;
                temp = NULL;
            }
            throw;
        }

        return newCollator;
    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_af01fff5efb1889862b36606bed10746a}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!add\-Paving\-With\-Val@{add\-Paving\-With\-Val}}
\index{add\-Paving\-With\-Val@{add\-Paving\-With\-Val}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{add\-Paving\-With\-Val}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::add\-Paving\-With\-Val} (
\begin{DoxyParamCaption}
\item[{{\bf \-Collator\-S\-P\-Vnode} $\ast$const}]{spn}
\end{DoxyParamCaption}
)}}\label{classsubpavings_1_1CollatorSPVnode_af01fff5efb1889862b36606bed10746a}


\-Add paving with \-Vemp to collation. 



\-Definition at line 1048 of file collatorspvnode.\-cpp.



\-References add\-Paving\-With\-Val(), \-Collator\-S\-P\-Vnode(), subpavings\-::\-S\-Pnode\-::dimension, subpavings\-::\-S\-Pnode\-::get\-Box(), subpavings\-::\-S\-Pnode\-::get\-Label(), get\-Left\-Child(), get\-Right\-Child(), get\-Summary(), subpavings\-::\-S\-Pnode\-::is\-Leaf(), subpavings\-::\-S\-Pnode\-::label, taylor\-::\-Lb(), subpavings\-::\-S\-Pnode\-::left\-Child, subpavings\-::\-S\-Pnode\-::node\-Add\-Left(), subpavings\-::\-S\-Pnode\-::node\-Add\-Right(), node\-Expand(), subpavings\-::\-S\-Pnode\-::right\-Child, summary, subpavings\-::\-S\-Pnode\-::the\-Box, taylor\-::\-Ub(), and \-Vemp.



\-Referenced by add\-Negated\-Paving(), add\-Pavings(), add\-Paving\-With\-Val(), subpavings\-::\-Adaptive\-Histogram\-V\-Collator\-::add\-To\-Collation\-With\-Val(), and subpavings\-::\-Adaptive\-Histogram\-V\-Collator\-::operator+=().


\begin{DoxyCode}
    {
       
        bool retValue = false;
        bool done = false;  // indicator for done adding

        VecDblIt summaryIt;

        try {

            if (spn == NULL) {
                done = true;

            }

            // if the boxes are not the same we can't do anything
            if (!done && (theBox != NULL) && (*theBox != spn->getBox())) {
                throw SPnodeException("Boxes do not match");
            }

            // if this has no box yet it has not incorporated anything
            // and so we just use spn to construct this
            if (!done && (theBox == NULL)) {
                //cout << getNodeName() << "\t" << spn->getNodeName() << endl;
                ivector v = spn->getBox();
                theBox = new ivector(v);
                dimension = Ub(v) - Lb(v) + 1;
                label = spn->getLabel();
                summary = spn->summary;               
                Vemp = spn->Vemp;
                //cout << Vemp << endl;
                                
                //recursion on the children
                if (spn->leftChild) {
                    nodeAddLeft(new CollatorSPVnode(*(spn->getLeftChild())));
                }
                else leftChild=NULL;

                if (spn->rightChild) {
                    nodeAddRight(new CollatorSPVnode(*(spn->getRightChild())));
                 }
                else rightChild=NULL;

                done = true;
                retValue = true;
            } // end if theBox==NULL
            
            // do the rest only if done is not true

            // if this is a leaf and the paving to be added is a leaf we don't
            // this just sucks in the counter from spn
            if (!done && !done && isLeaf() && spn->isLeaf()) {
           //cout << getNodeName() << "\t" << spn->getNodeName() << endl;
                //cout << "both are leaves" << endl;
                VecDbl temp = spn->getSummary();
                summary.insert(summary.end(), temp.begin(),temp.end());
                
                //danger!
                // if this is split and became a leaf because of addition into 
                // collator, then we need to use spn's Vemp
                // assuming that spn's Vemp is smaller than Vemp
          if ( Vemp > (spn->Vemp) ) {
            //cout << Vemp << endl;
            Vemp = spn->Vemp;
            //cout << Vemp << endl;
          }
               // if spn became a leaf because of addition, then we need to use
       
               // Vemp of this
               // if Vemp = spn->Vemp, doesn't matter which Vemp is used
               else if ( Vemp <= (spn->Vemp) ) {
            //cout << Vemp << endl;
            Vemp = Vemp;
            //cout << Vemp << endl;
          }
               
                done = true;
                retValue = true;
            }

            // else not done and not both leaves,
            // if this is not a leaf or the paving to be added
            // is not a leaf, we may need to split
            // and we will need to recurse further
            else if (!done && (!isLeaf() || !(spn->isLeaf()))) {
                // if this is leaf and spn not we need to split this
                if (isLeaf()) { // so spn can't be a leaf
                     //cout << getNodeName() << "\t" << spn->getNodeName() <<
       endl;
                     //cout << "this is a leaf " << endl;
                     nodeExpand();
                     //cout << Vemp << endl;
              Vemp = spn->Vemp;    
              //cout << Vemp << endl;  
                }

                // if spn is leaf and this is not we need to split spn
                // THIS WILL CHANGE the CollatorSPVnode pointed to by spn

                if (spn->isLeaf()) { // so this can't be a leaf
              //cout << getNodeName() << "\t" << spn->getNodeName() << endl;
                     //cout << "spn is a leaf " << endl;
              
              spn->nodeExpand();
                     //cout << Vemp << endl;
              Vemp = Vemp;    
              //cout << Vemp << endl;   
                }

                // put in the data
                VecDbl temp = spn->getSummary();
                summary.insert(summary.end(), temp.begin(),temp.end());
                done = true;
                               
                // if they are were neither leaves originally
                // we go straight on to recursing with the children
                // otherwise expansions above are followed by recursion

                // recurse with children
                //cout << "recursing with children" << endl;
                retValue=getLeftChild()->addPavingWithVal(spn->getLeftChild());
                retValue=getRightChild()->addPavingWithVal(spn->getRightChild()
      );
            } // end of dealing with case where at least one is not a leaf
        }
        catch (bad_alloc& ba) {
            std::cout << "Error allocating memory in addPaving" << endl;
            const char* msg = ba.what();
            std::cout << msg << std::endl;
            throw;
        }
        return retValue;
    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a49322e88d40a59c02bb6c3eb5841584a}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!get\-All\-Nodes@{get\-All\-Nodes}}
\index{get\-All\-Nodes@{get\-All\-Nodes}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{get\-All\-Nodes}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$ {\bf \-Collator\-S\-P\-Vnode} $\ast$ $>$ \& {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::get\-All\-Nodes} (
\begin{DoxyParamCaption}
\item[{std\-::vector$<$ {\bf \-Collator\-S\-P\-Vnode} $\ast$ $>$ \&}]{all\-Nodes}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_a49322e88d40a59c02bb6c3eb5841584a}
return a reference to a container of node pointers. 

\-Definition at line 932 of file collatorspvnode.\-cpp.



\-References get\-All\-Nodes(), get\-Left\-Child(), get\-Right\-Child(), subpavings\-::\-S\-Pnode\-::has\-L\-Cwith\-Box(), subpavings\-::\-S\-Pnode\-::has\-R\-Cwith\-Box(), and subpavings\-::\-S\-Pnode\-::is\-Empty().



\-Referenced by get\-All\-Nodes().


\begin{DoxyCode}
    {
        if (!isEmpty()) { // this is not empty
      //if (!hasLCwithBox() && !hasRCwithBox()) { // this is a leaf
            // arrgh horrible - cast away const if this node is a leaf
        //cout << nodeName << endl;
            allNodes.push_back(const_cast<CollatorSPVnode*>(this));
        }
      
      //if children, recurse on the children
        if (hasLCwithBox()) {
            getLeftChild()->getAllNodes(allNodes);
        }

        if (hasRCwithBox()) {
            getRightChild()->getAllNodes(allNodes);
        }       
        return allNodes;
   }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_aab5d343b96bf5be2ef7ebfaa4ead0319}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!get\-Leaves@{get\-Leaves}}
\index{get\-Leaves@{get\-Leaves}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{get\-Leaves}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$ {\bf \-Collator\-S\-P\-Vnode} $\ast$ $>$ \& {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::get\-Leaves} (
\begin{DoxyParamCaption}
\item[{std\-::vector$<$ {\bf \-Collator\-S\-P\-Vnode} $\ast$ $>$ \&}]{leaves}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_aab5d343b96bf5be2ef7ebfaa4ead0319}
return a reference to a container of node pointers. 

\-Definition at line 911 of file collatorspvnode.\-cpp.



\-References get\-Leaves(), get\-Left\-Child(), get\-Right\-Child(), subpavings\-::\-S\-Pnode\-::has\-L\-Cwith\-Box(), and subpavings\-::\-S\-Pnode\-::has\-R\-Cwith\-Box().



\-Referenced by get\-Leaves().


\begin{DoxyCode}
    {
        //if children, recurse on the children
        if (hasLCwithBox()) {
            getLeftChild()->getLeaves(leaves);
        }

        if (hasRCwithBox()) {
            getRightChild()->getLeaves(leaves);
        }

        if (!hasLCwithBox() && !hasRCwithBox()) { // this is a leaf
            // arrgh horrible - cast away const if this node is a leaf
            leaves.push_back(const_cast<CollatorSPVnode*>(this));
        }
        return leaves;
    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_aeaea28b3b2d7ca59a28cd3fbb3438cce}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!get\-Left\-Child@{get\-Left\-Child}}
\index{get\-Left\-Child@{get\-Left\-Child}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{get\-Left\-Child}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Collator\-S\-P\-Vnode} $\ast$ {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::get\-Left\-Child} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classsubpavings_1_1CollatorSPVnode_aeaea28b3b2d7ca59a28cd3fbb3438cce}


\-Accessor for the left child of a node. 

\-Returns a copy of the pointer to left\-Child node. 

\-Reimplemented from \hyperlink{classsubpavings_1_1SPnode_a2ae7370c24e6c51a99c8bd29b2ffcec3}{subpavings\-::\-S\-Pnode}.



\-Definition at line 503 of file collatorspvnode.\-cpp.



\-References subpavings\-::\-S\-Pnode\-::left\-Child.



\-Referenced by add\-Paving\-With\-Val(), \-Collator\-S\-P\-Vnode(), get\-All\-Nodes(), get\-Leaves(), get\-Scheffe\-Set(), subpavings\-::\-Adaptive\-Histogram\-V\-Collator\-::get\-Scheffe\-Set\-All(), get\-Split\-Node\-Ptr\-C\-S\-P\-V(), subpavings\-::\-Adaptive\-Histogram\-V\-Collator\-::get\-Yatracos\-Class\-All(), get\-Yat\-Set(), leaves\-Abs\-Accumulation\-Mult\-Vol(), leaves\-Accumulation\-Output\-Tabs(), leaves\-Average\-Output\-Tabs(), leaves\-Difference\-Output\-Tabs(), leaves\-Output\-Tabs(), make\-Average\-Collation(), node\-Expand(), node\-Negate(), nodes\-Reunite(), and operator=().


\begin{DoxyCode}
     { return (CollatorSPVnode*) leftChild; }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a1ebdb63b747d9c7a477b6ad86d58b714}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!get\-Node\-Delta@{get\-Node\-Delta}}
\index{get\-Node\-Delta@{get\-Node\-Delta}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{get\-Node\-Delta}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::get\-Node\-Delta} (
\begin{DoxyParamCaption}
\item[{int}]{this\-Theta}
\end{DoxyParamCaption}
)}}\label{classsubpavings_1_1CollatorSPVnode_a1ebdb63b747d9c7a477b6ad86d58b714}


\-Get the delta value for a specific theta. 

\-Get the delta value for a specific theta. 
\begin{DoxyParams}{\-Parameters}
{\em k} & split number in the set 0\-:(theta-\/1) \\
\hline
{\em theta} & the current split number \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
the delta value 
\end{DoxyReturn}


\-Definition at line 1448 of file collatorspvnode.\-cpp.



\-References get\-Vemp(), subpavings\-::\-S\-Pnode\-::node\-Volume(), and summary.


\begin{DoxyCode}
   { 
     //cout << "get delta for " << nodeName << " at theta = " << thisTheta <<
       endl;
     // get empirical measure of the training data
     double muTrain = summary[thisTheta] * nodeVolume();
     //cout << "summary: " << summary[thisTheta] << "\t muTrain: " << muTrain
       << endl;
      
     // get empirical measure of the validation data      
     //cout << "muValid: " << getVemp() << endl;

     double delta= muTrain - getVemp();
    //cout << "Delta: " << delta << endl; 

     return delta; 

   } // end of function getNodeDelta
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a72f2564ee548571ef026a8548ca0b0ba}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!get\-Number\-Summarised@{get\-Number\-Summarised}}
\index{get\-Number\-Summarised@{get\-Number\-Summarised}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{get\-Number\-Summarised}]{\setlength{\rightskip}{0pt plus 5cm}size\-\_\-t {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::get\-Number\-Summarised} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classsubpavings_1_1CollatorSPVnode_a72f2564ee548571ef026a8548ca0b0ba}


\-Get number of subpavings summarised. 



\-Definition at line 520 of file collatorspvnode.\-cpp.



\-References summary.


\begin{DoxyCode}
     { return summary.size(); }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a635b2b0884e6d8fc328e058bd3fadbcc}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!get\-Parent@{get\-Parent}}
\index{get\-Parent@{get\-Parent}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{get\-Parent}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Collator\-S\-P\-Vnode} $\ast$ {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::get\-Parent} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classsubpavings_1_1CollatorSPVnode_a635b2b0884e6d8fc328e058bd3fadbcc}


\-Accessor for the parent of a node. 

\-Returns a copy of the pointer to parent node. 

\-Reimplemented from \hyperlink{classsubpavings_1_1SPnode_ad25db2635b9fa09515a3cb75f4a7ccef}{subpavings\-::\-S\-Pnode}.



\-Definition at line 498 of file collatorspvnode.\-cpp.



\-References subpavings\-::\-S\-Pnode\-::parent.


\begin{DoxyCode}
     { return (CollatorSPVnode*) parent; }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_aaaa6264c4020a5e0ccfdedb19228fa2b}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!get\-Right\-Child@{get\-Right\-Child}}
\index{get\-Right\-Child@{get\-Right\-Child}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{get\-Right\-Child}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Collator\-S\-P\-Vnode} $\ast$ {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::get\-Right\-Child} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classsubpavings_1_1CollatorSPVnode_aaaa6264c4020a5e0ccfdedb19228fa2b}


\-Accessor for the right child of a node. 

\-Returns a copy of the pointer to right\-Child node. 

\-Reimplemented from \hyperlink{classsubpavings_1_1SPnode_a9477b1cfe157f5730a5514c944953689}{subpavings\-::\-S\-Pnode}.



\-Definition at line 508 of file collatorspvnode.\-cpp.



\-References subpavings\-::\-S\-Pnode\-::right\-Child.



\-Referenced by add\-Paving\-With\-Val(), \-Collator\-S\-P\-Vnode(), get\-All\-Nodes(), get\-Leaves(), get\-Scheffe\-Set(), subpavings\-::\-Adaptive\-Histogram\-V\-Collator\-::get\-Scheffe\-Set\-All(), get\-Split\-Node\-Ptr\-C\-S\-P\-V(), subpavings\-::\-Adaptive\-Histogram\-V\-Collator\-::get\-Yatracos\-Class\-All(), get\-Yat\-Set(), leaves\-Abs\-Accumulation\-Mult\-Vol(), leaves\-Accumulation\-Output\-Tabs(), leaves\-Average\-Output\-Tabs(), leaves\-Difference\-Output\-Tabs(), leaves\-Output\-Tabs(), make\-Average\-Collation(), node\-Expand(), node\-Negate(), nodes\-Reunite(), and operator=().


\begin{DoxyCode}
     { return (CollatorSPVnode*) rightChild; }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_ab134b9b98ed7b15b1cabb9eca1ced1eb}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!get\-Scheffe\-Node@{get\-Scheffe\-Node}}
\index{get\-Scheffe\-Node@{get\-Scheffe\-Node}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{get\-Scheffe\-Node}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::get\-Scheffe\-Node} (
\begin{DoxyParamCaption}
\item[{int}]{theta1, }
\item[{int}]{theta2}
\end{DoxyParamCaption}
)}}\label{classsubpavings_1_1CollatorSPVnode_ab134b9b98ed7b15b1cabb9eca1ced1eb}


\-Find the node that fulfills the \-Scheffe set, f\-\_\-theta1 $>$ f\-\_\-theta2 for candidates f\-\_\-theta1 and f\-\_\-theta2, where theta1 $<$ theta2. 


\begin{DoxyParams}{\-Parameters}
{\em theta1} & position of candidate f\-\_\-theta1 \\
\hline
{\em theta2} & position of candidate f\-\_\-theta2 \\
\hline
\end{DoxyParams}


\-Definition at line 1397 of file collatorspvnode.\-cpp.



\-References summary.



\-Referenced by get\-Scheffe\-Set(), and subpavings\-::\-Adaptive\-Histogram\-V\-Collator\-::get\-Scheffe\-Set\-All().


\begin{DoxyCode}
   { 
     //cout.precision(20);
     //cout << "Checking for Scheffe set at node: " << getNodeName() << endl;
     //cout << "Theta1: " << theta1 << "\t" << "Theta2: " << theta2 << endl;   
        
     //cout << summary[theta1] << "\t" << summary[theta2] << endl;
     
    //check that this is an ordered pair theta1 < theta2
    if (theta1 < theta2) {
      if ((summary[theta1] > summary[theta2])) {
          //cout << getNodeName() << " is an element of the Scheffe set.****"
       << endl;
          return true;          
      } 
      else { return false; }
    }
    else {
      cerr << "theta1 must be less than theta2." << endl;
      exit(0);
    }
   }    
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a8d430b2bdfb2d8032e5d7f9e9bddb53d}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!get\-Scheffe\-Set@{get\-Scheffe\-Set}}
\index{get\-Scheffe\-Set@{get\-Scheffe\-Set}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{get\-Scheffe\-Set}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::get\-Scheffe\-Set} (
\begin{DoxyParamCaption}
\item[{std\-::set$<$ {\bf \-Collator\-S\-P\-Vnode} $\ast$, std\-::less$<$ {\bf \-Collator\-S\-P\-Vnode} $\ast$ $>$ $>$ \&}]{\-Scheffe\-Set, }
\item[{size\-\_\-t}]{cand1, }
\item[{size\-\_\-t}]{cand2}
\end{DoxyParamCaption}
)}}\label{classsubpavings_1_1CollatorSPVnode_a8d430b2bdfb2d8032e5d7f9e9bddb53d}


\-Get the \-Scheffe set for a particular pair. 



\-Definition at line 1500 of file collatorspvnode.\-cpp.



\-References get\-Left\-Child(), get\-Right\-Child(), get\-Scheffe\-Node(), get\-Scheffe\-Set(), subpavings\-::\-S\-Pnode\-::is\-Empty(), and subpavings\-::\-S\-Pnode\-::is\-Leaf().



\-Referenced by get\-Scheffe\-Set().


\begin{DoxyCode}
{
  //iterate through the leaves in both candidate histograms to get the 
  //Yatracos set
   if (!(isEmpty()) && isLeaf()) { // this is a non-empty leaf
      bool ind = getScheffeNode(cand1, cand2);
        // insert the node YatSet if return true
    if (ind) { 
      ScheffeSet.insert(&(*this));
    }
  }
    
   //recurse on the children
   if (getLeftChild()!=NULL) {
         getLeftChild()->getScheffeSet(ScheffeSet, cand1, cand2);
   }
   if (getRightChild()!=NULL) {
         getRightChild()->getScheffeSet(ScheffeSet, cand1, cand2);
   }
}
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_ae3670805f36e313e7e541d57552d6b34}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!get\-Split\-Node\-Ptr\-C\-S\-P\-V@{get\-Split\-Node\-Ptr\-C\-S\-P\-V}}
\index{get\-Split\-Node\-Ptr\-C\-S\-P\-V@{get\-Split\-Node\-Ptr\-C\-S\-P\-V}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{get\-Split\-Node\-Ptr\-C\-S\-P\-V}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::get\-Split\-Node\-Ptr\-C\-S\-P\-V} (
\begin{DoxyParamCaption}
\item[{{\bf \-Collator\-S\-P\-Vnode} $\ast$\&}]{split\-Coll\-Node, }
\item[{{\bf \-S\-P\-S\-Vnode} $\ast$const}]{spn}
\end{DoxyParamCaption}
)}}\label{classsubpavings_1_1CollatorSPVnode_ae3670805f36e313e7e541d57552d6b34}


\-Get a \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} pointer to the corresponding \hyperlink{classsubpavings_1_1SPSVnode}{\-S\-P\-S\-Vnode} that was split. 


\begin{DoxyParams}{\-Parameters}
{\em chosen\-Largest} & the current splitted node \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
split\-Coll\-Node the current splitted node as a \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} 
\end{DoxyReturn}


\-Definition at line 1346 of file collatorspvnode.\-cpp.



\-References subpavings\-::\-S\-Pnode\-::get\-Box(), get\-Left\-Child(), get\-Right\-Child(), get\-Split\-Node\-Ptr\-C\-S\-P\-V(), and subpavings\-::\-S\-Pnode\-::the\-Box.



\-Referenced by get\-Split\-Node\-Ptr\-C\-S\-P\-V().


\begin{DoxyCode}
    {
  //  cout << "getSplitNodePtrCSPV for: " <<spn->getNodeName() << endl;
    bool retvalue=false;
    bool done=false;
    //cout << "done on top: " << done << endl;
        
    try {
      
           if (theBox == NULL) { done = true;
           retvalue = true; } // if there is no memory allocated to this
       pointer
          
           else {
    //         cout << "now looking at node: " << getNodeName() << endl;
        //    cout << "done: " << done << endl;     
          //get the pointer to the CollatorSPVnode that was split
          if ( !done && spn->getBox() == getBox() ){ 
      //      cout << "splitCollNode: " << spn->getNodeName() << "\t" <<
       spn->getJustSplit() << endl;
            splitCollNode = (&(*this));
            done = true; 
            retvalue = true;
          }
             
          // if not done, recurse with children
          if ( done == false ) { 
        //    cout << "recursing with children" << endl;  
          //  cout << "still not done " << !done << endl;
            if (getLeftChild() != NULL&& retvalue == false) {
            retvalue = getLeftChild()->getSplitNodePtrCSPV(splitCollNode,                                 
      spn);
          //  cout << "retvalue for left: " << retvalue << "done: " << done <<
       endl;
            }
            if (getRightChild() != NULL && retvalue == false) {
            retvalue = getRightChild()->getSplitNodePtrCSPV(splitCollNode,                              
      spn);
            //cout << "retvalue for right: " << retvalue << "done: " << done <<
       endl;
            } 
          }
        }
      }
        catch (bad_alloc& ba) {
            std::cout << "Error allocating memory in getSplitNodePtrCSPV" << 
      endl;
            const char* msg = ba.what();
            std::cout << msg << std::endl;
            throw;
        }
        
        return retvalue;
    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_ad7fa37be86eb1d964b384a090dc3552f}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!get\-Summary@{get\-Summary}}
\index{get\-Summary@{get\-Summary}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{get\-Summary}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Vec\-Dbl} {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::get\-Summary} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classsubpavings_1_1CollatorSPVnode_ad7fa37be86eb1d964b384a090dc3552f}


\-Accessor for the summary. 



\-Definition at line 512 of file collatorspvnode.\-cpp.



\-References summary.



\-Referenced by add\-Paving\-With\-Val().


\begin{DoxyCode}
     { return summary; }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_ac3cc6fb2f09dc7d6d99b52631fc4f60e}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!get\-Vemp@{get\-Vemp}}
\index{get\-Vemp@{get\-Vemp}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{get\-Vemp}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::get\-Vemp} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classsubpavings_1_1CollatorSPVnode_ac3cc6fb2f09dc7d6d99b52631fc4f60e}


\-Accessor for the validation summary. 



\-Definition at line 516 of file collatorspvnode.\-cpp.



\-References \-Vemp.



\-Referenced by get\-Node\-Delta(), leaf\-Output\-Tabs(), make\-Average\-Collation(), and node\-Print().


\begin{DoxyCode}
     { return Vemp; }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_ad0bdf61f72d586c8944c076e310b3240}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!get\-Yat\-Set@{get\-Yat\-Set}}
\index{get\-Yat\-Set@{get\-Yat\-Set}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{get\-Yat\-Set}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::get\-Yat\-Set} (
\begin{DoxyParamCaption}
\item[{std\-::set$<$ {\bf \-Collator\-S\-P\-Vnode} $\ast$, std\-::less$<$ {\bf \-Collator\-S\-P\-Vnode} $\ast$ $>$ $>$ \&}]{\-Yat\-Set\-Row, }
\item[{std\-::set$<$ {\bf \-Collator\-S\-P\-Vnode} $\ast$, std\-::less$<$ {\bf \-Collator\-S\-P\-Vnode} $\ast$ $>$ $>$ \&}]{\-Yat\-Set\-Col, }
\item[{size\-\_\-t}]{cand1, }
\item[{size\-\_\-t}]{cand2}
\end{DoxyParamCaption}
)}}\label{classsubpavings_1_1CollatorSPVnode_ad0bdf61f72d586c8944c076e310b3240}


\-Get the \-Yatracos set for a particular pair. 



\-Definition at line 1466 of file collatorspvnode.\-cpp.



\-References get\-Left\-Child(), get\-Right\-Child(), get\-Yat\-Set(), subpavings\-::\-S\-Pnode\-::is\-Empty(), subpavings\-::\-S\-Pnode\-::is\-Leaf(), node\-Check\-Col\-Summary(), and node\-Check\-Row\-Summary().



\-Referenced by get\-Yat\-Set().


\begin{DoxyCode}
{
  //cout << "iterating through the leaves in candidate histograms" << endl;
  //iterate through the leaves in both candidate histograms to get the 
  //Yatracos set
   if (!(isEmpty()) && isLeaf()) { // this is a non-empty leaf
      bool rowInd = nodeCheckRowSummary(cand1, cand2);
      // insert the node YatSet if return true
    if (rowInd) { 
      //cout << "inserting " << getNodeName() << " into YatSetRow" << endl; 
      YatSetRow.insert(&(*this));
    }
    else {
      bool colInd = nodeCheckColSummary(cand1, cand2);
      if (colInd) { 
        //cout << "inserting " << getNodeName() << " into YatSetCol" << endl; 
        YatSetCol.insert(&(*this));
      }
    }
  }
  //recurse on the children
  if (getLeftChild()!=NULL) {
      getLeftChild()->getYatSet(YatSetRow, YatSetCol, cand1, cand2);
  }
  if (getRightChild()!=NULL) {
      getRightChild()->getYatSet(YatSetRow, YatSetCol, cand1, cand2);
  }
  
} // end of getYatset
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a158da654dc12bf34a61950df57d2d742}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!leaf\-Accumulation\-Output\-Tabs@{leaf\-Accumulation\-Output\-Tabs}}
\index{leaf\-Accumulation\-Output\-Tabs@{leaf\-Accumulation\-Output\-Tabs}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{leaf\-Accumulation\-Output\-Tabs}]{\setlength{\rightskip}{0pt plus 5cm}std\-::ostream \& {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::leaf\-Accumulation\-Output\-Tabs} (
\begin{DoxyParamCaption}
\item[{std\-::ostream \&}]{os}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_a158da654dc12bf34a61950df57d2d742}


\-Output for a node in a binary tree, tab-\/delimited. 

\-Output intended for a txt file, in numeric form only. \-Outputs the accumulated sum of the summary for the node, ie the summary added together.

\-Replaces the format that that the cxsc\-:\-:$<$$<$ operator produces for interval vectors. \-The format used here includes the box label and produces numeric tab-\/delimited data. \-The format for an n-\/dimensional interval vector with m elements in the summary is

label \mbox{[}tab\mbox{]} volume \mbox{[}tab\mbox{]} empirical measure \mbox{[}tab\mbox{]} sum(summary\mbox{[}1\mbox{]}... summary\mbox{[}m\mbox{]}) \mbox{[}tab\mbox{]} \-Inf(ivector\mbox{[}1\mbox{]}) \mbox{[}tab\mbox{]} \-Sup(ivector\mbox{[}1\mbox{]}.\mbox{[}tab\mbox{]} . . \mbox{[}tab\mbox{]} \-Inf(ivector\mbox{[}n\mbox{]}) \mbox{[}tab\mbox{]} \-Sup(ivector\mbox{[}n\mbox{]} 

\-Definition at line 147 of file collatorspvnode.\-cpp.



\-References taylor\-::\-Lb(), and taylor\-::\-Ub().



\-Referenced by leaves\-Accumulation\-Output\-Tabs().


\begin{DoxyCode}
    {
        if(theBox != NULL) { // do nothing if there is no box

            ivector thisBox = *theBox; // copy theBox

            double summ = 0;
            VecDblIt it;
            // should change this to use for_each
            for (it = summary.begin(); it< summary.end(); it++) {
                summ+=(*it);
            }

            // output the nodeName, nodeVolume
            os << nodeName;
            double vol = nodeVolume();
            os << "\t" << vol;
        // followed by the empirical measure
      //  os << "\t" << getVemp();
            // followed by the sum of the summary
            os << "\t" << nodeAccumulation();

            // followed by intervals making up box using Inf & Sup
            // ie unlike cxsc output, there is no [  ] around them
            for (int i= Lb(thisBox); i <= Ub(thisBox) ; i++) {

                os << "\t" << Inf(thisBox[i])
                    << "\t" << Sup(thisBox[i]);
            }
        }
    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_aac50041302262e7503e68cbd9103aa0b}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!leaf\-Average\-Output\-Tabs@{leaf\-Average\-Output\-Tabs}}
\index{leaf\-Average\-Output\-Tabs@{leaf\-Average\-Output\-Tabs}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{leaf\-Average\-Output\-Tabs}]{\setlength{\rightskip}{0pt plus 5cm}std\-::ostream \& {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::leaf\-Average\-Output\-Tabs} (
\begin{DoxyParamCaption}
\item[{std\-::ostream \&}]{os}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_aac50041302262e7503e68cbd9103aa0b}


\-Output for a node in a binary tree, tab-\/delimited. 

\-Output intended for a txt file, in numeric form only. \-Outputs the average over the summary.

\-Replaces the format that that the cxsc\-:\-:$<$$<$ operator produces for interval vectors. \-The format used here includes the box label and produces numeric tab-\/delimited data. \-The format for an n-\/dimensional interval vector is

node\-Name \mbox{[}tab\mbox{]} volume \mbox{[}tab\mbox{]} empirical measure \mbox{[}tab\mbox{]} average summary \mbox{[}tab\mbox{]} \-Inf(ivector\mbox{[}1\mbox{]}) \mbox{[}tab\mbox{]} \-Sup(ivector\mbox{[}1\mbox{]}.\mbox{[}tab\mbox{]} . . \mbox{[}tab\mbox{]} \-Inf(ivector\mbox{[}n\mbox{]}) \mbox{[}tab\mbox{]} \-Sup(ivector\mbox{[}n\mbox{]} 

\-Definition at line 109 of file collatorspvnode.\-cpp.



\-References taylor\-::\-Lb(), and taylor\-::\-Ub().



\-Referenced by leaves\-Average\-Output\-Tabs().


\begin{DoxyCode}
    {
        if(theBox != NULL) { // do nothing if there is no box

            ivector thisBox = *theBox; // copy theBox

            double summ = 0;
            VecDblIt it;
            // should change this to use for_each
            for (it = summary.begin(); it< summary.end(); it++) {
                summ+=(*it);
            }
            double vol = nodeVolume();
            double av =  summ/(1.0*summary.size());

            // output the nodeName, nodeVolume
            os << nodeName;
            os << "\t" << vol;
        
        // followed by the empirical measure
        os << "\t" << getVemp();
            
        // followed by the average
            os << "\t" << av;

            // followed by intervals making up box using Inf & Sup
            // ie unlike cxsc output, there is no [  ] around them
            for (int i= Lb(thisBox); i <= Ub(thisBox) ; i++) {

                os << "\t" << Inf(thisBox[i])
                    << "\t" << Sup(thisBox[i]);
            }
        }
    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a20f7af5ed80d8860009cfd39f1dafc03}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!leaf\-Difference\-Output\-Tabs@{leaf\-Difference\-Output\-Tabs}}
\index{leaf\-Difference\-Output\-Tabs@{leaf\-Difference\-Output\-Tabs}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{leaf\-Difference\-Output\-Tabs}]{\setlength{\rightskip}{0pt plus 5cm}std\-::ostream \& {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::leaf\-Difference\-Output\-Tabs} (
\begin{DoxyParamCaption}
\item[{std\-::ostream \&}]{os}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_a20f7af5ed80d8860009cfd39f1dafc03}


\-Definition at line 182 of file collatorspvnode.\-cpp.



\-References taylor\-::\-Lb(), and taylor\-::\-Ub().



\-Referenced by leaves\-Difference\-Output\-Tabs().


\begin{DoxyCode}
    {
        if(theBox != NULL) { // do nothing if there is no box

            ivector thisBox = *theBox; // copy theBox

            double diff = summary[1] + summary[2];
           
         // output the nodeName, nodeVolume
            os << nodeName;
            double vol = nodeVolume();
            os << "\t" << vol;
        // followed by the empirical measure
      //  os << "\t" << getVemp();
            // followed by the sum of the summary
            os << "\t" << diff;

            // followed by intervals making up box using Inf & Sup
            // ie unlike cxsc output, there is no [  ] around them
            for (int i= Lb(thisBox); i <= Ub(thisBox) ; i++) {

                os << "\t" << Inf(thisBox[i])
                    << "\t" << Sup(thisBox[i]);
            }
        }
    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a60e3798526abbe3db915b8a9a9d0aa19}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!leaf\-Output\-Tabs@{leaf\-Output\-Tabs}}
\index{leaf\-Output\-Tabs@{leaf\-Output\-Tabs}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{leaf\-Output\-Tabs}]{\setlength{\rightskip}{0pt plus 5cm}std\-::ostream \& {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::leaf\-Output\-Tabs} (
\begin{DoxyParamCaption}
\item[{std\-::ostream \&}]{os}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_a60e3798526abbe3db915b8a9a9d0aa19}


\-Output for a node in a binary tree, tab-\/delimited. 

\-Output intended for a txt file, in numeric form only. \-Outputs summary for the node.

\-Replaces the format that that the cxsc\-:\-:$<$$<$ operator produces for interval vectors. \-The format used here includes the box label and produces numeric tab-\/delimited data. \-The format for an n-\/dimensional interval vector with m elements in the summary is

label \mbox{[}tab\mbox{]} volume \mbox{[}tab\mbox{]} empirical measure \mbox{[}tab\mbox{]} $\backslash$ summary\mbox{[}1\mbox{]} \mbox{[}tab\mbox{]} ... summary\mbox{[}m\mbox{]} \mbox{[}tab\mbox{]} \-Inf(ivector\mbox{[}1\mbox{]}) \mbox{[}tab\mbox{]} \-Sup(ivector\mbox{[}1\mbox{]}.\mbox{[}tab\mbox{]} . . \mbox{[}tab\mbox{]} \-Inf(ivector\mbox{[}n\mbox{]}) \mbox{[}tab\mbox{]} \-Sup(ivector\mbox{[}n\mbox{]} 

\-Reimplemented from \hyperlink{classsubpavings_1_1SPnode_a0f2381175b37224a185eedbe9601d814}{subpavings\-::\-S\-Pnode}.



\-Definition at line 547 of file collatorspvnode.\-cpp.



\-References get\-Vemp(), taylor\-::\-Lb(), subpavings\-::\-S\-Pnode\-::node\-Name, subpavings\-::\-S\-Pnode\-::node\-Volume(), summary, subpavings\-::\-S\-Pnode\-::the\-Box, and taylor\-::\-Ub().



\-Referenced by leaves\-Output\-Tabs().


\begin{DoxyCode}
     {
 
         if(theBox != NULL) { // do nothing if there is no box
 
             ivector thisBox = *theBox; // copy theBox
 
             // output the nodeName, nodeVolume
             os << nodeName;
             double vol = nodeVolume();
             os << "\t" << vol;
         // followed by the empirical measure
         os << "\t" << getVemp();
             // followed by the summary
             VecDblIt it;
             for (it = summary.begin(); it< summary.end(); it++) {
                 os << "\t" << (*it);
             }
             // followed by intervals making up box using Inf & Sup
             // ie unlike cxsc output, there is no [  ] around them
             for (int i= Lb(thisBox); i <= Ub(thisBox) ; i++) {
 
                 os << "\t" << Inf(thisBox[i])
                     << "\t" << Sup(thisBox[i]);
             }
 
         }
 
     }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a994d9779baf89f37351656d4d615d340}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!leaf\-Output\-Tabs@{leaf\-Output\-Tabs}}
\index{leaf\-Output\-Tabs@{leaf\-Output\-Tabs}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{leaf\-Output\-Tabs}]{\setlength{\rightskip}{0pt plus 5cm}std\-::ostream \& {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::leaf\-Output\-Tabs} (
\begin{DoxyParamCaption}
\item[{std\-::ostream \&}]{os, }
\item[{int}]{which\-Coll}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_a994d9779baf89f37351656d4d615d340}


\-Definition at line 578 of file collatorspvnode.\-cpp.



\-References taylor\-::\-Lb(), subpavings\-::\-S\-Pnode\-::node\-Name, subpavings\-::\-S\-Pnode\-::node\-Volume(), summary, subpavings\-::\-S\-Pnode\-::the\-Box, and taylor\-::\-Ub().


\begin{DoxyCode}
     {
 
         if(theBox != NULL) { // do nothing if there is no box
 
             ivector thisBox = *theBox; // copy theBox
 
             // output the nodeName, nodeVolume
             os << nodeName;
             double vol = nodeVolume();
             os << "\t" << vol;
         // followed by the empirical measure
        // os << "\t" << getVemp();
             // followed by the summary
             os << "\t" << summary[whichColl];
             
             // followed by intervals making up box using Inf & Sup
             // ie unlike cxsc output, there is no [  ] around them
             for (int i= Lb(thisBox); i <= Ub(thisBox) ; i++) {
 
                 os << "\t" << Inf(thisBox[i])
                     << "\t" << Sup(thisBox[i]);
             }
 
         }
 
     }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_ae996eeb1103aa689f6f64d3db742ce2f}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!leaves\-Abs\-Accumulation\-Mult\-Vol@{leaves\-Abs\-Accumulation\-Mult\-Vol}}
\index{leaves\-Abs\-Accumulation\-Mult\-Vol@{leaves\-Abs\-Accumulation\-Mult\-Vol}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{leaves\-Abs\-Accumulation\-Mult\-Vol}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::leaves\-Abs\-Accumulation\-Mult\-Vol} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classsubpavings_1_1CollatorSPVnode_ae996eeb1103aa689f6f64d3db742ce2f}


sum over leaf nodes of absolute accumulated summary x volume. 

\begin{DoxyReturn}{\-Returns}
the sum over the descendent leaf nodes of this of the absolule accumulated summary x volume for each leaf. 
\end{DoxyReturn}


\-Definition at line 525 of file collatorspvnode.\-cpp.



\-References get\-Left\-Child(), get\-Right\-Child(), subpavings\-::\-S\-Pnode\-::is\-Empty(), subpavings\-::\-S\-Pnode\-::is\-Leaf(), leaves\-Abs\-Accumulation\-Mult\-Vol(), and node\-Abs\-Accumulation\-Mult\-Vol().



\-Referenced by leaves\-Abs\-Accumulation\-Mult\-Vol().


\begin{DoxyCode}
     {
         double retValue = 0;
 
         // uses  member function leafSummaryMultVolOutputTabs for node output
         if (!(isEmpty()) && isLeaf()) { // this is a non-empty leaf
             retValue = nodeAbsAccumulationMultVol();
         }
         //recurse on the children
         if (getLeftChild()!=NULL) {
             getLeftChild()->leavesAbsAccumulationMultVol();
         }
 
         if (getRightChild()!=NULL) {
             getRightChild()->leavesAbsAccumulationMultVol();
         }
 
         return retValue;
     }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a74c11c958cf56fbfff724d464c02f03a}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!leaves\-Accumulation\-Output\-Tabs@{leaves\-Accumulation\-Output\-Tabs}}
\index{leaves\-Accumulation\-Output\-Tabs@{leaves\-Accumulation\-Output\-Tabs}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{leaves\-Accumulation\-Output\-Tabs}]{\setlength{\rightskip}{0pt plus 5cm}std\-::ostream \& {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::leaves\-Accumulation\-Output\-Tabs} (
\begin{DoxyParamCaption}
\item[{std\-::ostream \&}]{os}
\end{DoxyParamCaption}
) const}}\label{classsubpavings_1_1CollatorSPVnode_a74c11c958cf56fbfff724d464c02f03a}


\-Output for for {\bfseries all leaves} of a binary tree. 

\-Output intended for a txt file, in numeric form only.

\-Recursively uses \hyperlink{classsubpavings_1_1CollatorSPVnode_a158da654dc12bf34a61950df57d2d742}{leaf\-Accumulation\-Output\-Tabs()} to output information for each leaf node. \-Outputs a accumulated summary for each leaf node, ie the sum of the summary. 

\-Definition at line 681 of file collatorspvnode.\-cpp.



\-References get\-Left\-Child(), get\-Right\-Child(), subpavings\-::\-S\-Pnode\-::is\-Empty(), subpavings\-::\-S\-Pnode\-::is\-Leaf(), leaf\-Accumulation\-Output\-Tabs(), and leaves\-Accumulation\-Output\-Tabs().



\-Referenced by leaves\-Accumulation\-Output\-Tabs().


\begin{DoxyCode}
     {
         // uses  member function leafAccumulationOutputTabs for nodes
         if (!(isEmpty()) && isLeaf()) { // this is a non-empty leaf
             leafAccumulationOutputTabs(os);
             return (os << "\n");
 
         }
 
             //recurse on the children
         if (getLeftChild()!=NULL) {
             getLeftChild()->leavesAccumulationOutputTabs(os);
         }
 
         if (getRightChild()!=NULL) {
             getRightChild()->leavesAccumulationOutputTabs(os);
         }
 
     }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_ad2fe162c253c15b43027ccd44ce9136b}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!leaves\-Average\-Output\-Tabs@{leaves\-Average\-Output\-Tabs}}
\index{leaves\-Average\-Output\-Tabs@{leaves\-Average\-Output\-Tabs}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{leaves\-Average\-Output\-Tabs}]{\setlength{\rightskip}{0pt plus 5cm}std\-::ostream \& {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::leaves\-Average\-Output\-Tabs} (
\begin{DoxyParamCaption}
\item[{std\-::ostream \&}]{os}
\end{DoxyParamCaption}
) const}}\label{classsubpavings_1_1CollatorSPVnode_ad2fe162c253c15b43027ccd44ce9136b}


\-Output for for {\bfseries all leaves} of a binary tree. 

\-Output intended for a txt file, in numeric form only.

\-Recursively uses \hyperlink{classsubpavings_1_1CollatorSPVnode_aac50041302262e7503e68cbd9103aa0b}{leaf\-Average\-Output\-Tabs()} to output information for each leaf node. \-Outputs the average over the summary for each leaf. 

\-Definition at line 658 of file collatorspvnode.\-cpp.



\-References get\-Left\-Child(), get\-Right\-Child(), subpavings\-::\-S\-Pnode\-::is\-Empty(), subpavings\-::\-S\-Pnode\-::is\-Leaf(), leaf\-Average\-Output\-Tabs(), and leaves\-Average\-Output\-Tabs().



\-Referenced by leaves\-Average\-Output\-Tabs().


\begin{DoxyCode}
     {
         // uses  member function leafAverageOutputTabs for node output
         if (!(isEmpty()) && isLeaf()) { // this is a non-empty leaf
             leafAverageOutputTabs(os);
             return (os << "\n");
 
         }
 
             //recurse on the children
         if (getLeftChild()!=NULL) {
             getLeftChild()->leavesAverageOutputTabs(os);
         }
 
         if (getRightChild()!=NULL) {
             getRightChild()->leavesAverageOutputTabs(os);
         }
 
     }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a63529191a0b2eb1bc253c5c717fc2965}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!leaves\-Difference\-Output\-Tabs@{leaves\-Difference\-Output\-Tabs}}
\index{leaves\-Difference\-Output\-Tabs@{leaves\-Difference\-Output\-Tabs}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{leaves\-Difference\-Output\-Tabs}]{\setlength{\rightskip}{0pt plus 5cm}std\-::ostream \& {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::leaves\-Difference\-Output\-Tabs} (
\begin{DoxyParamCaption}
\item[{std\-::ostream \&}]{os}
\end{DoxyParamCaption}
) const}}\label{classsubpavings_1_1CollatorSPVnode_a63529191a0b2eb1bc253c5c717fc2965}


\-Definition at line 703 of file collatorspvnode.\-cpp.



\-References get\-Left\-Child(), get\-Right\-Child(), subpavings\-::\-S\-Pnode\-::is\-Empty(), subpavings\-::\-S\-Pnode\-::is\-Leaf(), leaf\-Difference\-Output\-Tabs(), and leaves\-Difference\-Output\-Tabs().



\-Referenced by leaves\-Difference\-Output\-Tabs().


\begin{DoxyCode}
     {
         // uses  member function leafAccumulationOutputTabs for nodes
         if (!(isEmpty()) && isLeaf()) { // this is a non-empty leaf
             leafDifferenceOutputTabs(os);
             return (os << "\n");
 
         }
 
             //recurse on the children
         if (getLeftChild()!=NULL) {
             getLeftChild()->leavesDifferenceOutputTabs(os);
         }
 
         if (getRightChild()!=NULL) {
             getRightChild()->leavesDifferenceOutputTabs(os);
         }
 
     }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a214a7d5e78c28dbad8da0753eebe31f4}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!leaves\-Output\-Tabs@{leaves\-Output\-Tabs}}
\index{leaves\-Output\-Tabs@{leaves\-Output\-Tabs}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{leaves\-Output\-Tabs}]{\setlength{\rightskip}{0pt plus 5cm}std\-::ostream \& {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::leaves\-Output\-Tabs} (
\begin{DoxyParamCaption}
\item[{std\-::ostream \&}]{os}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_a214a7d5e78c28dbad8da0753eebe31f4}


\-Output for for {\bfseries all leaves} of a binary tree. 

\-Output intended for a txt file, in numeric form only.

\-Recursively uses \hyperlink{classsubpavings_1_1CollatorSPVnode_a60e3798526abbe3db915b8a9a9d0aa19}{leaf\-Output\-Tabs()} to output summary information for each leaf node. 

\-Reimplemented from \hyperlink{classsubpavings_1_1SPnode_a3663133a2c9f0fce79f3f551c1d163de}{subpavings\-::\-S\-Pnode}.



\-Definition at line 609 of file collatorspvnode.\-cpp.



\-References get\-Left\-Child(), get\-Right\-Child(), subpavings\-::\-S\-Pnode\-::is\-Empty(), subpavings\-::\-S\-Pnode\-::is\-Leaf(), leaf\-Output\-Tabs(), and leaves\-Output\-Tabs().



\-Referenced by leaves\-Output\-Tabs().


\begin{DoxyCode}
     {
         // uses  member function leafSummaryMultVolOutputTabs for node output
         if (!(isEmpty()) && isLeaf()) { // this is a non-empty leaf
     //    if (!(isEmpty())) { // this is a non-empty leaf
     //        cout << *theBox << endl; 
             leafOutputTabs(os);
             return (os << "\n");
 
         }
 
             //recurse on the children
         if (getLeftChild()!=NULL) {
             getLeftChild()->leavesOutputTabs(os);
         }
 
         if (getRightChild()!=NULL) {
             getRightChild()->leavesOutputTabs(os);
         }
 
     }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_af432d9c3c95ad16f40274a0ab35948b8}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!leaves\-Output\-Tabs@{leaves\-Output\-Tabs}}
\index{leaves\-Output\-Tabs@{leaves\-Output\-Tabs}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{leaves\-Output\-Tabs}]{\setlength{\rightskip}{0pt plus 5cm}std\-::ostream \& {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::leaves\-Output\-Tabs} (
\begin{DoxyParamCaption}
\item[{std\-::ostream \&}]{os, }
\item[{int}]{which\-Coll}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_af432d9c3c95ad16f40274a0ab35948b8}


\-Reimplemented from \hyperlink{classsubpavings_1_1SPnode_ac0d9484691c21a316308b4713e6e8bba}{subpavings\-::\-S\-Pnode}.



\-Definition at line 633 of file collatorspvnode.\-cpp.



\-References get\-Left\-Child(), get\-Right\-Child(), subpavings\-::\-S\-Pnode\-::is\-Empty(), subpavings\-::\-S\-Pnode\-::is\-Leaf(), leaf\-Output\-Tabs(), and leaves\-Output\-Tabs().


\begin{DoxyCode}
     {
         // uses  member function leafSummaryMultVolOutputTabs for node output
         if (!(isEmpty()) && isLeaf()) { // this is a non-empty leaf
     //    if (!(isEmpty())) { // this is a non-empty leaf
     //        cout << *theBox << endl; 
             leafOutputTabs(os, whichColl);
             return (os << "\n");
 
         }
 
             //recurse on the children
         if (getLeftChild()!=NULL) {
             getLeftChild()->leavesOutputTabs(os);
         }
 
         if (getRightChild()!=NULL) {
             getRightChild()->leavesOutputTabs(os);
         }
 
     }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_ad0d2a5d445ac27dd3bf81a6f55c4087f}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!make\-Average\-Collation@{make\-Average\-Collation}}
\index{make\-Average\-Collation@{make\-Average\-Collation}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{make\-Average\-Collation}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Collator\-S\-P\-Vnode} $\ast$ {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::make\-Average\-Collation} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classsubpavings_1_1CollatorSPVnode_ad0d2a5d445ac27dd3bf81a6f55c4087f}
make a \hyperlink{classsubpavings_1_1CollatorSPVnode}{\-Collator\-S\-P\-Vnode} which represents an average. 

\-Definition at line 453 of file collatorspvnode.\-cpp.



\-References \-Collator\-S\-P\-Vnode(), subpavings\-::\-S\-Pnode\-::get\-Box(), get\-Left\-Child(), get\-Right\-Child(), get\-Vemp(), subpavings\-::\-S\-Pnode\-::has\-L\-Cwith\-Box(), subpavings\-::\-S\-Pnode\-::has\-R\-Cwith\-Box(), subpavings\-::\-S\-Pnode\-::label, subpavings\-::\-S\-Pnode\-::node\-Add\-Left(), subpavings\-::\-S\-Pnode\-::node\-Add\-Right(), subpavings\-::\-S\-Pnode\-::node\-Name, subpavings\-::\-S\-Pnode\-::set\-Node\-Name(), and summary.


\begin{DoxyCode}
     {
         CollatorSPVnode* newnode = NULL;

         try {
             VecDbl newsumm;
             double summ = 0;
             VecDblIt it;
            // should change this to use for_each
             for (it = (summary.begin()); it < (summary.end()); it++) {
                 summ+=(*it);
             }
             newsumm.push_back(
                 summ/(1.0*(summary).size()));

             ivector v = getBox();
 
             // make the new node
             newnode = new CollatorSPVnode(v, label, newsumm, getVemp());
             newnode->setNodeName(nodeName); // set name to this node name
 
             //recursion on the children
             if (hasLCwithBox()) {
                 newnode->nodeAddLeft(getLeftChild()->makeAverageCollation());
            }
 
             if (hasRCwithBox()) {
                 newnode->nodeAddRight(getRightChild()->makeAverageCollation())
      ;
             }
        }
 
         catch (bad_alloc& ba) {
             std::cout << "Error allocating memory" << endl;
             const char* msg = ba.what();
            std::cout << msg << std::endl;
             throw;
         }
 
       return newnode;

    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_acf8c07b59699383cc9983aefb8c8945d}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!node\-Abs\-Accumulation@{node\-Abs\-Accumulation}}
\index{node\-Abs\-Accumulation@{node\-Abs\-Accumulation}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{node\-Abs\-Accumulation}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::node\-Abs\-Accumulation} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_acf8c07b59699383cc9983aefb8c8945d}
\-Find the accumulation of absolute values in the summary for a node.

\begin{DoxyReturn}{\-Returns}
the sum over the absolute values in the summary for this node. 
\end{DoxyReturn}


\-Definition at line 232 of file collatorspvnode.\-cpp.


\begin{DoxyCode}
    {
            double absSumm = 0;
            VecDblIt it;
            // should change this to use for_each
            // add together the absolute values of each summary
            for (it = summary.begin(); it< summary.end(); it++) {
                *it < 0.0 ? absSumm-=(*it) : absSumm+=(*it);
            }
            return absSumm;
    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_ac89894e566fc5b4f86b2b9d749db10a1}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!node\-Abs\-Accumulation\-Mult\-Vol@{node\-Abs\-Accumulation\-Mult\-Vol}}
\index{node\-Abs\-Accumulation\-Mult\-Vol@{node\-Abs\-Accumulation\-Mult\-Vol}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{node\-Abs\-Accumulation\-Mult\-Vol}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::node\-Abs\-Accumulation\-Mult\-Vol} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_ac89894e566fc5b4f86b2b9d749db10a1}
\-Find accumulation of absolute values in summmary x volume in node.

\begin{DoxyReturn}{\-Returns}
the sum over the absolute values in the summary, multiplied by the volume, for this node. 
\end{DoxyReturn}


\-Definition at line 251 of file collatorspvnode.\-cpp.



\-Referenced by leaves\-Abs\-Accumulation\-Mult\-Vol().


\begin{DoxyCode}
    {
            return (nodeAbsAccumulation() * nodeVolume());
    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a5fb3b27a05bb36fc409ed1ffe17cab9f}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!node\-Accumulation@{node\-Accumulation}}
\index{node\-Accumulation@{node\-Accumulation}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{node\-Accumulation}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::node\-Accumulation} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_a5fb3b27a05bb36fc409ed1ffe17cab9f}
\-Find the accumulated summary for a node.

\begin{DoxyReturn}{\-Returns}
the sum over the summary for this node. 
\end{DoxyReturn}


\-Definition at line 212 of file collatorspvnode.\-cpp.



\-Referenced by \-Collator\-S\-P\-Vnode(), and nodes\-Reunite().


\begin{DoxyCode}
    {
            double summ = 0;
            VecDblIt it;
            // should change this to use for_each
            for (it = summary.begin(); it< summary.end(); it++) {
                summ+=(*it);
            }
            return summ;
    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a0c350ae6fe0fc1719ec294f5828c64a6}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!node\-Accumulation\-Mult\-Vol@{node\-Accumulation\-Mult\-Vol}}
\index{node\-Accumulation\-Mult\-Vol@{node\-Accumulation\-Mult\-Vol}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{node\-Accumulation\-Mult\-Vol}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::node\-Accumulation\-Mult\-Vol} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_a0c350ae6fe0fc1719ec294f5828c64a6}
\-Find the accumulated summary multiplied by volume for a node.

\begin{DoxyReturn}{\-Returns}
the sum over the summary for this node x node volume. 
\end{DoxyReturn}


\-Definition at line 245 of file collatorspvnode.\-cpp.


\begin{DoxyCode}
    {
            return (nodeAccumulation() * nodeVolume());
    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a7a6318a53eb8efeecc8ea81244c98859}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!node\-Adopt\-Left@{node\-Adopt\-Left}}
\index{node\-Adopt\-Left@{node\-Adopt\-Left}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{node\-Adopt\-Left}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::node\-Adopt\-Left} (
\begin{DoxyParamCaption}
\item[{{\bf \-Collator\-S\-P\-Vnode} $\ast$}]{l\-Child}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_a7a6318a53eb8efeecc8ea81244c98859}


\-Builds a higher level of a tree from existing nodes. \-This adopts a left child rather than attempting to reunite two children into this. 



\-Definition at line 958 of file collatorspvnode.\-cpp.



\-References subpavings\-::\-S\-Pnode\-::node\-Add\-Left(), and summary.


\begin{DoxyCode}
    {
        // *this is the node which will become the parent

        size_t i = 0;

        size_t n = (lChild->summary).size();

        if (summary.empty()) { // no summary in this box already
            // put into this summary the summary of the new child
            for (i=0; i < n; i++) {
                summary.push_back((lChild->summary)[i]);
            }
        }
        else { // has summary already

            // we have to make summary for this match
            // that of the children
            // number of elements in this summary should = child
            if (summary.size() != n) {
                throw SPnodeException("Summaries do not match");;
            }

            // store current summary temporarily
            VecDbl temp_summary = summary;

            summary.clear();

            // put into this summary the average of
            // the summary of the new child and the old summary
            for (i=0; i < n; i++) {
                summary.push_back(((lChild->summary)[i]
                                + temp_summary[i])/2.0);
            }
        }

        // point parent and child pointers in the right directions
        // nodeAddLeft() checks labels, hull size, present children
        nodeAddLeft(lChild);
    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a47cfd580379397fa0f713de7306a65c3}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!node\-Adopt\-Right@{node\-Adopt\-Right}}
\index{node\-Adopt\-Right@{node\-Adopt\-Right}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{node\-Adopt\-Right}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::node\-Adopt\-Right} (
\begin{DoxyParamCaption}
\item[{{\bf \-Collator\-S\-P\-Vnode} $\ast$}]{r\-Child}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_a47cfd580379397fa0f713de7306a65c3}


\-Builds a higher level of a tree from existing nodes. 

\-This adopts a right child rather than attempting to reunite two children into this. 

\-Definition at line 1003 of file collatorspvnode.\-cpp.



\-References subpavings\-::\-S\-Pnode\-::node\-Add\-Right(), and summary.


\begin{DoxyCode}
    {
        // *this is the node which will become the parent
        size_t i = 0;

        size_t n = (rChild->summary).size();

        if (summary.empty()) { // no summary in this box already
            // put into this summary the summary of the new child
            for (i=0; i < n; i++) {
                summary.push_back((rChild->summary)[i]);
            }
        }
        else { // has summary already

            // we have to make summary for this match
            // that of the children
            // number of elements in this summary should = child
            if (summary.size() != n) {
                throw SPnodeException("Summaries do not match");
            }
            // store current summary temporarily
            VecDbl temp_summary = summary;

            summary.clear();

            // put into this summary the average of the summary
            // of the new child and the old summary
            for (i=0; i < n; i++) {
                summary.push_back(((rChild->summary)[i]
                                + temp_summary[i])/2.0);
            }
        }

        // point parent and child pointers in the right directions
        // nodeAddRight() checks labels, hull size, present children
        nodeAddRight(rChild);
    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a61360380c921f78c1ac9689ffe004c60}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!node\-Check\-Col\-Summary@{node\-Check\-Col\-Summary}}
\index{node\-Check\-Col\-Summary@{node\-Check\-Col\-Summary}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{node\-Check\-Col\-Summary}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::node\-Check\-Col\-Summary} (
\begin{DoxyParamCaption}
\item[{int}]{theta, }
\item[{int}]{k}
\end{DoxyParamCaption}
)}}\label{classsubpavings_1_1CollatorSPVnode_a61360380c921f78c1ac9689ffe004c60}


\-Find the node that fulfills the \-Yatracos condition by comparing the columns of the growing \-Yatracos matrix against the rows. 


\begin{DoxyParams}{\-Parameters}
{\em theta} & current split number \\
\hline
{\em k} & split number in the set 0\-:(theta-\/1) \\
\hline
\end{DoxyParams}


\-Definition at line 1435 of file collatorspvnode.\-cpp.



\-References summary.



\-Referenced by subpavings\-::\-Adaptive\-Histogram\-V\-Collator\-::get\-Yatracos\-Class\-All(), and get\-Yat\-Set().


\begin{DoxyCode}
   { 
     //cout << "checking for Yat at node: " << getNodeName() << endl;     
      //cout << "theta: " << theta << "\t" << "k: " << k << endl;
      //cout << summary[theta] << "\t" << summary[k] << endl;
      if ((summary[k] > summary[theta])) {
    //cout << "height at " << k << " larger than height at " << theta << endl;
         return true;
      }   
    else { return false; }    
  }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a199762d07823cde9934100fb6d11228c}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!node\-Check\-Row\-Summary@{node\-Check\-Row\-Summary}}
\index{node\-Check\-Row\-Summary@{node\-Check\-Row\-Summary}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{node\-Check\-Row\-Summary}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::node\-Check\-Row\-Summary} (
\begin{DoxyParamCaption}
\item[{int}]{theta, }
\item[{int}]{k}
\end{DoxyParamCaption}
)}}\label{classsubpavings_1_1CollatorSPVnode_a199762d07823cde9934100fb6d11228c}


\-Find the node that fulfills the \-Yatracos condition by comparing the rows of the growing \-Yatracos matrix against the columns. 


\begin{DoxyParams}{\-Parameters}
{\em theta} & current split number \\
\hline
{\em k} & split number in the set 0\-:(theta-\/1) \\
\hline
\end{DoxyParams}


\-Definition at line 1420 of file collatorspvnode.\-cpp.



\-References summary.



\-Referenced by subpavings\-::\-Adaptive\-Histogram\-V\-Collator\-::get\-Yatracos\-Class\-All(), and get\-Yat\-Set().


\begin{DoxyCode}
   { 
     //out << "checking for Yat at node: " << getNodeName() << endl;
     //cout << "theta: " << theta << "\t" << "k: " << k << endl;     
     //cout << summary[theta] << "\t" << summary[k] << endl;
      
      if ((summary[theta] > summary[k])) {
    //cout << "height at " << theta << " larger than height at " << k << endl;
            return true;          
      } // end of filling up rows
      else { return false; }
   }   
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a8493e447407309758e72abcd2a6faf6a}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!node\-Difference@{node\-Difference}}
\index{node\-Difference@{node\-Difference}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{node\-Difference}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::node\-Difference} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_a8493e447407309758e72abcd2a6faf6a}


\-Definition at line 224 of file collatorspvnode.\-cpp.


\begin{DoxyCode}
    {
            double diff = summary[1] + summary[2]; 
            return diff;
    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_ae6555e847a720e43c07ad0c56788f9b6}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!node\-Expand@{node\-Expand}}
\index{node\-Expand@{node\-Expand}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{node\-Expand}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::node\-Expand} (
\begin{DoxyParamCaption}
\item[{int}]{comp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_ae6555e847a720e43c07ad0c56788f9b6}


\-Expand leaf node to make two more leaves as children and copy summary and \-Vemp down to the children. 

\-Equivalent to bisecting a box in a regular subpaving. \-Makes two new sibling child nodes of this one and grafts them on. 
\begin{DoxyParams}{\-Parameters}
{\em comp} & is the dimension on which to bisect the\-Box. \\
\hline
\end{DoxyParams}


\-Reimplemented from \hyperlink{classsubpavings_1_1SPnode_ac27ee8ea1399ed0121ed970c8fd51543}{subpavings\-::\-S\-Pnode}.



\-Definition at line 762 of file collatorspvnode.\-cpp.



\-References \-Collator\-S\-P\-Vnode(), subpavings\-::\-S\-Pnode\-::get\-Box(), get\-Left\-Child(), get\-Right\-Child(), subpavings\-::\-S\-Pnode\-::is\-Leaf(), subpavings\-::\-S\-Pnode\-::label, \-Lower(), subpavings\-::\-S\-Pnode\-::node\-Add\-Left(), subpavings\-::\-S\-Pnode\-::node\-Add\-Right(), subpavings\-::\-S\-Pnode\-::node\-Name, subpavings\-::\-S\-Pnode\-::set\-Node\-Name(), summary, \-Upper(), and \-Vemp.



\-Referenced by add\-Paving\-With\-Val().


\begin{DoxyCode}
     {
         try
         {
             // only do something if this CollatorSPVnode is a leaf
        if (isLeaf()) {
                 // ivectors to become boxes for new children
                 ivector lC, rC;
                 // Call Lower() and Upper() to put split boxes
                 // into lC and rC respectively
                 Lower(getBox(), lC, comp);
                 Upper(getBox(), rC, comp);
 
                 // make and add the new children
                 nodeAddLeft(new CollatorSPVnode(lC, label, summary, Vemp));
                 nodeAddRight(new CollatorSPVnode(rC, label, summary, Vemp));
 
                 //name the new children
                 getLeftChild()->setNodeName(nodeName + "L");
                 getRightChild()->setNodeName(nodeName + "R");

                // new children have summary from this
        }
      }

    catch (bad_alloc&)
    {
         std::cout << "Error allocating memory in "
            << "CollatorSPVnode::nodeExpand()"
            << std::endl;
         throw;
    }
  }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a43e370d7120f8cc8c1cde489f61e7fc5}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!node\-Expand@{node\-Expand}}
\index{node\-Expand@{node\-Expand}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{node\-Expand}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::node\-Expand} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_a43e370d7120f8cc8c1cde489f61e7fc5}


\-Expand leaf node to make two more leaves as children and copy summary and \-Vemp down to the children. 

\-Finds the dimension to split on and passes to \-Node\-Expand(int comp) to carry out the bisection. 

\-Reimplemented from \hyperlink{classsubpavings_1_1SPnode_a0540c55967e7f35843fac029b450ab55}{subpavings\-::\-S\-Pnode}.



\-Definition at line 798 of file collatorspvnode.\-cpp.



\-References subpavings\-::\-S\-Pnode\-::get\-Box(), and \-Max\-Diam().



\-Referenced by add\-Paving\-With\-Val().


\begin{DoxyCode}
   {
      int maxdiamcomp; // variable to hold first longest dimension
    double temp = ::MaxDiam(getBox(), maxdiamcomp);
      nodeExpand(maxdiamcomp); // complete nodeExpand
 
   }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a0c7ea11fa66829ec974813779c052c61}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!node\-Negate@{node\-Negate}}
\index{node\-Negate@{node\-Negate}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{node\-Negate}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::node\-Negate} (
\begin{DoxyParamCaption}
\item[{double}]{c}
\end{DoxyParamCaption}
)}}\label{classsubpavings_1_1CollatorSPVnode_a0c7ea11fa66829ec974813779c052c61}


\-Negates the summary for every node in tree rooted at this. 



\-Definition at line 1303 of file collatorspvnode.\-cpp.



\-References get\-Left\-Child(), get\-Right\-Child(), subpavings\-::\-S\-Pnode\-::has\-L\-Cwith\-Box(), subpavings\-::\-S\-Pnode\-::has\-R\-Cwith\-Box(), node\-Negate(), and summary.



\-Referenced by add\-Negated\-Paving(), node\-Negate(), and subtract\-Pavings().


\begin{DoxyCode}
   {
      // transform(summary.begin(), summary.end(), summary.begin(),
      //                                negate<double>());
      for (int i=0; i < summary.size(); i++) {  
      double temp = c * summary[i];
      if ( temp == -0) { temp = 0; }
      summary[i] = temp;        
    }

        // recurse on children
        if (hasLCwithBox()) getLeftChild()->nodeNegate(c);
        if (hasRCwithBox()) getRightChild()->nodeNegate(c);
    }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a782737eae50163bbae2dc9c4b5e23aec}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!node\-Print@{node\-Print}}
\index{node\-Print@{node\-Print}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{node\-Print}]{\setlength{\rightskip}{0pt plus 5cm}std\-::ostream \& {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::node\-Print} (
\begin{DoxyParamCaption}
\item[{std\-::ostream \&}]{os}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_a782737eae50163bbae2dc9c4b5e23aec}


\-Output the details of a specific node. 

\-This is intended for console output or output to a mixed alpha and numeric file. 

\-Reimplemented from \hyperlink{classsubpavings_1_1SPnode_aaf14185437d50e955c5ea938dc6e7559}{subpavings\-::\-S\-Pnode}.



\-Definition at line 726 of file collatorspvnode.\-cpp.



\-References get\-Vemp(), taylor\-::\-Lb(), subpavings\-::\-S\-Pnode\-::node\-Volume(), summary, subpavings\-::\-S\-Pnode\-::the\-Box, and taylor\-::\-Ub().


\begin{DoxyCode}
     {
         // output for box in form:
         // box, volume, summary data
 
         if(theBox != NULL) { // do nothing if there is no box
 
            ivector thisBox = *theBox; // copy theBox
 
            NodeDataItr dataItr;
 
            os << "Box is :";
            for (int i = Lb(thisBox); i <= Ub(thisBox) ; i++) {
                 // c-xsc default output for intervals
                 os << "  " << thisBox[i];   
        }
 
        os << std::endl;
        os << "Box volume is " << nodeVolume() << std::endl;
        os << "Empirical measure is " << getVemp() << std::endl;
        os << "Summary data: " ;
 
        VecDblIt it;
        for (it = summary.begin(); it< summary.end(); it++) {
          os << *it << " ";
        }
             os << std::endl;
      }
            
      return os;
      }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_abef4fa1adf9483d78e21350712864fd2}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!nodes\-Reunite@{nodes\-Reunite}}
\index{nodes\-Reunite@{nodes\-Reunite}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{nodes\-Reunite}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::nodes\-Reunite} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_abef4fa1adf9483d78e21350712864fd2}


\-Try to reunite nodes to form one leaf. 

\-Note that the nodes provided, l\-Child and r\-Child, are not the actual children of this, they are potential children which we are trying to either totally bring into this (if there are two of them) or to graft onto this if there is only one of them. \-This is typically a new, part-\/formed node whose formation can be completed by reuniting already two already-\/formed nodes into it or by adding on one child if only one is available. node\-Reunite is used in building a tree upwards (rather than in pruning leaves of formed tree from the bottom up).

\-If two potential children are provided and they are both leaves, it combines the two leaf siblings into this. \-If the potential children are not leaves or if only one potential child is provided, it grafts the potential child/children onto this as its child/children.

\-Summary data associated with the children is related to the new parent.

\begin{DoxyWarning}{\-Warning}
node\-Reunite would not normally be used with \-Collator\-S\-Pnodes but is in the base class and is reimplemented to try do it appropriately for this derived class should it be needed. \-This function is untested. 
\end{DoxyWarning}


\-Definition at line 817 of file collatorspvnode.\-cpp.



\-References get\-Left\-Child(), get\-Right\-Child(), subpavings\-::\-S\-Pnode\-::has\-L\-Cwith\-Box(), subpavings\-::\-S\-Pnode\-::has\-R\-Cwith\-Box(), subpavings\-::\-S\-Pnode\-::is\-Leaf(), subpavings\-::\-S\-Pnode\-::left\-Child, node\-Accumulation(), nodes\-Reunite(), subpavings\-::\-S\-Pnode\-::right\-Child, and summary.



\-Referenced by nodes\-Reunite().


\begin{DoxyCode}
    {
      //  cout << "calling nodesReunite" << endl;
     
     /*
      // *this is the node which will become the parent
        
      // check that the labels match and exit if not
        if ((lChild->label != label ) || (rChild->label != label)) {
            throw SPnodeException("Labels do not match");
        }
      
        // if both subpavings are leaves and hull of boxes is x
        // discard them: *this is a leaf
        if (lChild->isLeaf() && rChild->isLeaf()) {
        cout << "both are leaves" << endl;
         if (*theBox != (*(lChild->theBox) |
                            *(rChild->theBox))) {
                throw SPnodeException("Boxes cannot be combined");

            }               
        // how many elements in the left child's summary
            size_t n = (lChild->summary).size();
            // elements in summary for each child should be same
            if ((rChild->summary).size() != n) {
                throw SPnodeException("Summaries cannot be combined");

            }
            // put into this summary the average of summary of children
            size_t i = 0;
        for (i=0; i < n; i++) {
           //to take note
                summary.push_back(((lChild->summary)[i]
                                +(rChild->summary)[i])/2.0);
            }   
            //discard the two subpavings given
        delete lChild;
            delete rChild;
        }

        else {  // at least one child is not a leaf
            // this has to adopt them rather than reuniting them
        cout << "at least one child is not a leaf" << endl;
            nodeAdoptLeft(lChild);
            nodeAdoptRight(rChild);
            recursiveRename();
        }
      */
      
      //only propagate if nodeAccumulation for both left and right child are
      // the same
      
     // cout << getNodeName() << endl;
  
      // first recursively deal with the children of the children           
       if (hasLCwithBox())
            getLeftChild()->nodesReunite();
        if (hasRCwithBox())
            getRightChild()->nodesReunite();

      // now deal with this
      if (hasLCwithBox() && hasRCwithBox()) {
            if (getLeftChild()->isLeaf() && getRightChild()->isLeaf()) {
          //cout << "both are leaves" << endl;
          //cout << getLeftChild()->getNodeName() << "\t" <<
       getRightChild()->getNodeName() << endl;
        //  cout << getLeftChild()->nodeAccumulation() << "\t" <<
       getRightChild()->nodeAccumulation() << endl;
          
          if ( ((getLeftChild()->nodeAccumulation())==0) && 
              ((getRightChild()->nodeAccumulation())==0) ) {
        //    cout << "----reunite to get " << getNodeName() << endl;
            
            size_t i = 0;
            size_t n = summary.size();
            for (i=0; i < n; i++) {
              //to take note
              summary[i]=(((getLeftChild()->summary)[i]
                        +(getRightChild()->summary)[i]));
            //  cout << "reunited summary: " << ((getLeftChild()->summary)[i]
            //            +(getRightChild()->summary)[i]) << endl;
            }   
            //discard the two children
            delete leftChild;
            delete rightChild;
            leftChild = NULL;
            rightChild = NULL;
          } 
        } 
      }
   } // end of function
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_a36bedf0d99a2a3e1a0188c24b68c2e18}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!operator=@{operator=}}
\index{operator=@{operator=}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{operator=}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Collator\-S\-P\-Vnode} \& subpavings\-::\-Collator\-S\-P\-Vnode\-::operator= (
\begin{DoxyParamCaption}
\item[{const {\bf \-Collator\-S\-P\-Vnode} \&}]{rhs}
\end{DoxyParamCaption}
)}}\label{classsubpavings_1_1CollatorSPVnode_a36bedf0d99a2a3e1a0188c24b68c2e18}


\-Copy assignment operator. 



\-Definition at line 399 of file collatorspvnode.\-cpp.



\-References \-Collator\-S\-P\-Vnode(), subpavings\-::\-S\-Pnode\-::dimension, get\-Left\-Child(), get\-Right\-Child(), subpavings\-::\-S\-Pnode\-::label, subpavings\-::\-S\-Pnode\-::left\-Child, subpavings\-::\-S\-Pnode\-::node\-Add\-Left(), subpavings\-::\-S\-Pnode\-::node\-Add\-Right(), subpavings\-::\-S\-Pnode\-::node\-Name, subpavings\-::\-S\-Pnode\-::parent, subpavings\-::\-S\-Pnode\-::right\-Child, summary, and subpavings\-::\-S\-Pnode\-::the\-Box.


\begin{DoxyCode}
     {
         try {
 
            // delete the current children (deletes their children as well)
             if (leftChild != NULL) {
                 delete getLeftChild();
                 leftChild = NULL;
             }

            if (rightChild != NULL) {
                 delete getRightChild();
                 rightChild = NULL;
             }
            // and delete the current box
             if (theBox != NULL) {
               delete theBox;
                 theBox = NULL;
            }

            parent=NULL;
 
            theBox=new ivector(*rhs.theBox);
             dimension = rhs.dimension;
             label = rhs.label;
             nodeName = rhs.nodeName;
 
             summary = rhs.summary;
 
             //recursion on the children
             if (rhs.leftChild) {
                nodeAddLeft(new CollatorSPVnode(
                     *(rhs.getLeftChild())));
             }
             else leftChild=NULL;
 
            if (rhs.rightChild) {
                 nodeAddRight(new CollatorSPVnode(
                     *(rhs.getRightChild())));
             }
             else rightChild=NULL;
         }
         catch (bad_alloc& ba) {
            std::cout << "Error allocating memory" << endl;
             const char* msg = ba.what();
             std::cout << msg << std::endl;
            throw;
         }
 
         return *this;

     }
\end{DoxyCode}
\hypertarget{classsubpavings_1_1CollatorSPVnode_ab662ab5025178c145b83b386ef475415}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!subtract\-Pavings@{subtract\-Pavings}}
\index{subtract\-Pavings@{subtract\-Pavings}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{subtract\-Pavings}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Collator\-S\-P\-Vnode} $\ast$ {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::subtract\-Pavings} (
\begin{DoxyParamCaption}
\item[{const {\bf \-Collator\-S\-P\-Vnode} $\ast$const}]{lhs, }
\item[{const {\bf \-Collator\-S\-P\-Vnode} $\ast$const}]{rhs, }
\item[{double}]{c}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_ab662ab5025178c145b83b386ef475415}


\-Subtract one collator subpavings from another together. 

\-Collator returned has tree which is the union of lhs and rhs trees and summary with lhs summary and negative of rhs summary values.


\begin{DoxyParams}{\-Parameters}
{\em lhs} & pointer to the root of one collator. \\
\hline
{\em lhs} & pointer to the root of the other collator to be subtracted. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
a pointer to the root of a new collator subpaving where the summmary is the summary of lhs and the negative values from the summary of rhs. 
\end{DoxyReturn}


\-Definition at line 1243 of file collatorspvnode.\-cpp.



\-References add\-Negated\-Paving(), \-Collator\-S\-P\-Vnode(), subpavings\-::\-S\-Pnode\-::get\-Box(), and node\-Negate().



\-Referenced by subpavings\-::\-Adaptive\-Histogram\-V\-Collator\-::operator-\/().


\begin{DoxyCode}
    {
        cout << "subtract pavings called" << endl;
        CollatorSPVnode* newCollator = NULL;

        bool done = false;

        try {

            if (lhs == NULL && rhs == NULL) done = true; // return null

            if (!done && lhs == NULL && rhs != NULL) {

                newCollator = new CollatorSPVnode(*rhs);
                newCollator->nodeNegate(c);

                done = true;

            }
            if (!done && lhs != NULL && rhs == NULL) {

                newCollator = new CollatorSPVnode(*lhs);
                done = true;
            }
            // both not null
            if (!done && lhs != NULL && rhs != NULL) {

                if ((lhs->getBox() != NULL) &&
                                (lhs->getBox() != rhs->getBox())) {
                    throw SPnodeException("Boxes do not match");
                }

                newCollator = new CollatorSPVnode(*lhs);
                newCollator->addNegatedPaving(rhs, c);  // uses a temp copy of
       rhs
            }
        }
        catch (bad_alloc& ba) {
            if (newCollator != NULL) {
                delete newCollator;
                newCollator = NULL;
            }
            std::cerr << "Error allocating memory in addPavings" << endl;
            const char* msg = ba.what();
            std::cerr << msg << std::endl;
            throw;
        }
        catch (exception& e) {
            if (newCollator != NULL) {
                delete newCollator;
                newCollator = NULL;
            }
            throw;
        }

        return newCollator;
    }
\end{DoxyCode}


\subsubsection{\-Member \-Data \-Documentation}
\hypertarget{classsubpavings_1_1CollatorSPVnode_ad85d48d6c14888cc7d375f74b63c2f92}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!summary@{summary}}
\index{summary@{summary}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{summary}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Vec\-Dbl} {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::summary}\hspace{0.3cm}{\ttfamily  \mbox{[}mutable, private\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_ad85d48d6c14888cc7d375f74b63c2f92}


\-A container of summary values from the collated subpavings. 



\-Definition at line 76 of file collatorspvnode.\-hpp.



\-Referenced by add\-Paving\-With\-Val(), \-Collator\-S\-P\-Vnode(), get\-Node\-Delta(), get\-Number\-Summarised(), get\-Scheffe\-Node(), get\-Summary(), leaf\-Output\-Tabs(), make\-Average\-Collation(), node\-Adopt\-Left(), node\-Adopt\-Right(), node\-Check\-Col\-Summary(), node\-Check\-Row\-Summary(), node\-Expand(), node\-Negate(), node\-Print(), nodes\-Reunite(), and operator=().

\hypertarget{classsubpavings_1_1CollatorSPVnode_a31cd9926485cf1190effb77a9ce8dac4}{\index{subpavings\-::\-Collator\-S\-P\-Vnode@{subpavings\-::\-Collator\-S\-P\-Vnode}!\-Vemp@{\-Vemp}}
\index{\-Vemp@{\-Vemp}!subpavings::CollatorSPVnode@{subpavings\-::\-Collator\-S\-P\-Vnode}}
\paragraph[{\-Vemp}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf subpavings\-::\-Collator\-S\-P\-Vnode\-::\-Vemp}\hspace{0.3cm}{\ttfamily  \mbox{[}mutable, private\mbox{]}}}}\label{classsubpavings_1_1CollatorSPVnode_a31cd9926485cf1190effb77a9ce8dac4}


\-Empirical measure for the validation data from the collated subpavings. 



\-Definition at line 81 of file collatorspvnode.\-hpp.



\-Referenced by add\-Paving\-With\-Val(), \-Collator\-S\-P\-Vnode(), get\-Vemp(), and node\-Expand().



\-The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
\hyperlink{collatorspvnode_8hpp}{collatorspvnode.\-hpp}\item 
\hyperlink{collatorspvnode_8cpp}{collatorspvnode.\-cpp}\end{DoxyCompactItemize}
